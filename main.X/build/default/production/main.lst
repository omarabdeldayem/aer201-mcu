MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;******************************************************************************;
                      00002 ;        ____    ___  ______    ___  ____       ____  ____  ____    ___  ____  ;
                      00003 ;       |    \  /  _]|      T  /  _]|    \     |    \l    j|    \  /  _]|    \ ;
                      00004 ;       |  o  )/  [_ |      | /  [_ |  D  )    |  o  )|  T |  o  )/  [_ |  D  );
                      00005 ;       |   _/Y    _]l_j  l_jY    _]|    /     |   _/ |  | |   _/Y    _]|    / ;
                      00006 ;       |  |  |   [_   |  |  |   [_ |    \     |  |   |  | |  |  |   [_ |    \ ;
                      00007 ;       |  |  |     T  |  |  |     T|  .  Y    |  |   j  l |  |  |     T|  .  Y;
                      00008 ;       l__j  l_____j  l__j  l_____jl__j\_j    l__j  |____jl__j  l_____jl__j\_j;
                      00009 ;------------------------------------------------------------------------------;
                      00010 ;               AER201 Team 61 'Peter Piper' Pipe Inspector                    ;
                      00011 ;                        Author: Omar Abdeldayem                               ;
                      00012 ;                           Created: 1/12/2016                                 ;
                      00013 ;------------------------------------------------------------------------------;
                      00014 ; DESCRIPTION:                                                                                          
                                                               ;
                      00015 ; It does shit, yo.                                                                                     
                                                               ;
                      00016 ;******************************************************************************;
                      00017 ;******************************************************************************;
                      00018 ;******************************************************************************;
                      00019 
                      00020         List    p=16f877                    ; list directive to define processor
                      00021         #include        <p16f877.inc>       ; processor specific variable definitions
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Dec 08 2015
                      00005 ;  MPASM PIC16F877 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2015 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00541         LIST
2007   3F72           00022         __CONFIG _CP_OFF & _WDT_OFF & _BODEN_ON & _PWRTE_ON & _HS_OSC & _WRT_ENABLE_ON & _CPD_OFF & _LVP
                            _OFF
                      00023 
                      00024         #include        <rtc_macros.inc>
                      00001         ;External labels
  0000                00002         extern  write_rtc,read_rtc,rtc_convert,i2c_common_setup
                      00003 
                      00004 ;RTC Macros;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00005 
                      00006 rtc_resetAll    macro
                      00007 ;input:         none
                      00008 ;output:        none
                      00009 ;desc:          Resets all the time keeping registers on the RTC to zero
                      00010         banksel     0x74
                      00011         clrf        0x74
                      00012         banksel     0x73
                      00013         clrf        0x73
                      00014         call        write_rtc           ;Write 0 to Seconds
                      00015         banksel     0x73
                      00016         incf        0x73                        ;Set register address to 1
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00017         call        write_rtc
                      00018         banksel     0x73
                      00019         incf        0x73                        ;Set register address to 2
                      00020         call        write_rtc
                      00021         banksel     0x73
                      00022         incf        0x73                        ;Set register address to 3
                      00023         call        write_rtc
                      00024         banksel     0x73
                      00025         incf        0x73                        ;Set register address to 4
                      00026         call        write_rtc
                      00027         banksel     0x73
                      00028         incf        0x73                        ;Set register address to 5
                      00029         call        write_rtc
                      00030         banksel     0x73
                      00031         incf        0x73                        ;Set register address to 6
                      00032         call        write_rtc
                      00033         endm
                      00034 
                      00035 rtc_set macro       addliteral, datliteral
                      00036 ;input:         addliteral: value of address
                      00037 ;                       datliteral: value of data
                      00038 ;output:        none
                      00039 ;desc:          loads the data in datliteral into the 
                      00040 ;                       address specified by addliteral in the RTC
                      00041         banksel     0x73
                      00042         movlw       addliteral
                      00043         movwf       0x73
                      00044         banksel     0x74
                      00045         movlw       datliteral
                      00046         movwf       0x74        
                      00047         call        write_rtc
                      00048         endm
                      00049 
                      00050 rtc_read macro      addliteral
                      00051 ;input:         addliteral
                      00052 ;output:        0x75, 0x77, 0x78
                      00053 ;desc:          From the selected register in the RTC, read the data
                      00054 ;                       and load it into 0x75. 0x75 is also converted into 
                      00055 ;                       ASCII characters and the tens digit is placed into
                      00056 ;                       0x77 and the ones digit is placed in 0x78
                      00057         movlw       addliteral
                      00058         banksel     0x73
                      00059         movwf       0x73
                      00060         call        read_rtc
                      00061         banksel     0x75
                      00062         movf        0x75,w
                      00063         call        rtc_convert   
                      00064         endm
                      00025         #include        <lcd.inc>
  0000                00001     extern      InitLCD,WR_INS,WR_DATA,CLR_LCD
                      00026 ;******************************************************************************;
                      00027 ;                               BANK0 RAM                                      ;
                      00028 ;******************************************************************************;
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00029         CBLOCK      0x30
  00000030            00030         long_del    ; 0x30
  00000031            00031         temp_w      ; 0x31
  00000032            00032         temp_status ; 0x32
                      00033                     ; DIVISION Registers
  00000033            00034         DIV_HI      ; 0X33
  00000034            00035         DIV_LO      ; 0X34
  00000035            00036         DIVISOR     ; 0X35
  00000036            00037         Q           ; 0X36
  00000037            00038         d1
  00000038            00039         d2
  00000039            00040         d3          ; 0X39
                      00041                     ; ROBOT VARS
  0000003A            00042         start_min   ; 0X3A
  0000003B            00043         start_min10 ; 0X3B
  0000003C            00044         start_sec
  0000003D            00045         start_sec10
  0000003E            00046         stop_min
  0000003F            00047         stop_min10
  00000040            00048         stop_sec    ; 0X40
  00000041            00049         stop_sec10  ; 0x41
  00000042            00050         spot_detected
  00000043            00051         multiplex_count
  00000044            00052         rob_lat_distance
  00000045            00053         rob_long_distance_count ; 0X45
  00000046            00054         rob_long_distance       ; 0X46
  00000047            00055         measured_distance_lat
  00000048            00056         measured_distance_sup
  00000049            00057         rob_return
  0000004A            00058         spot_count  ; 0X4A
  0000004B            00059         num_spots
  0000004C            00060         spot_base_loc
                      00061         ENDC
                      00062 
                      00063 ;******************************************************************************;
                      00064 ;                               EQUATES                                        ;
                      00065 ;******************************************************************************;
                      00066         #define     crit_dist           0X25
                      00067         #define     crit_dist_l         0x08
                      00068         #define     crit_dist_r         0x08
                      00069         #define     MUX_IN              PORTA, 0
                      00070         #define     MUX_CTRL_0          PORTE, 0
                      00071         #define     MUX_CTRL_1          PORTE, 1
                      00072         #define     MUX_CTRL_2          PORTA, 2
                      00073         #define     MUX_CTRL_3          PORTA, 5
                      00074         #define     SERVO_CTRL          PORTC, 0
                      00075         #define     US_SUP_TRIG         PORTB, 3
                      00076         #define     US_SUP_ECHO         PORTB, 4
                      00077         #define     MOTOR_DIR_CTRL      PORTC, 5
                      00078         #define     BUZZER              PORTC, 7
                      00079         #define     US_LAT_TRIG         PORTD, 0
                      00080         #define     US_LAT_ECHO         PORTD, 1
                      00081         #define     L_MOTOR_SPD         B'11111111'
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00082         #define     R_MOTOR_SPD         B'11111111'
                      00083 ;******************************************************************************;
                      00084 ;                               MACROS                                         ;
                      00085 ;******************************************************************************;
                      00086 WRT_LCD macro       val
                      00087         MOVLW       val
                      00088         CALL        WR_DATA
                      00089         endm
                      00090 LCD_INS macro       val
                      00091         MOVLW       val
                      00092         CALL        WR_INS
                      00093         endm
                      00094         
                      00095 WRT_MEM_LCD macro   val
                      00096         MOVFW       val
                      00097         CALL        WR_DATA
                      00098         endm
                      00099 
                      00100 CWRT_MEM_LCD macro   val
                      00101         MOVFW       val
                      00102         ADDLW       D'48'
                      00103         CALL        WR_DATA
                      00104         endm
                      00105 ;******************************************************************************;
                      00106 ;                          VECTOR TABLE                                        ;
                      00107 ;******************************************************************************;
                      00108         ORG         0x0000              ; RESET vector must always be at 0x00
0000   2???           00109         GOTO        INIT                ; Just jump to the main code section.
                      00110         ORG         0x0004
0004   2???           00111         GOTO        INT_HANDLER
                      00112 
                      00113 ;******************************************************************************;
                      00114 ;                         ROBOT INITIALIZATION                                 ;
                      00115 ;******************************************************************************;
0005                  00116 INIT
0005   1683           00117         BSF         STATUS, RP0         ; Select bank 1
0006   018B           00118         CLRF        INTCON              ; Disable interrupts for now
                      00119         
                      00120         ;MOVLW      0x06                ; Turn PORT A to digital
                      00121         ;MOVWF      ADCON1
0007   300E           00122         movlw       b'00001110'         ; All digital except A0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0008   009F           00123         movwf       ADCON1
                      00124         
0009   3011           00125         MOVLW       b'00010001'         ; PORT A pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000A   0085           00126         MOVWF       TRISA
000B   30F3           00127         MOVLW       b'11110011'         ; PORT B pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000C   0086           00128         MOVWF       TRISB
000D   3018           00129         MOVLW       b'00011000'         ; PORT C pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000E   0087           00130         MOVWF       TRISC
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000F   3002           00131         MOVLW       B'00000010'         ; PORT D pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0010   0088           00132         MOVWF       TRISD               
0011   3000           00133         MOVLW       b'00000000'         ; PORT E pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0012   0089           00134         MOVWF       TRISE
                      00135         
0013   30FF           00136         MOVLW       B'11111111'         ; PWM pulsing period (484Hz)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0014   0092           00137         MOVWF       PR2
                      00138        
0015   1283           00139         BCF         STATUS, RP0         ; select bank 0
                      00140                 
0016   30FF           00141         MOVLW       L_MOTOR_SPD         ; 100% DUTY CYCLE
0017   0095           00142         MOVWF       CCPR1L              
0018   30FF           00143         MOVLW       R_MOTOR_SPD         ; '01100100' 100% DUTY CYCLE
0019   009B           00144         MOVWF       CCPR2L
001A   303C           00145         MOVLW       B'00111100'
001B   0097           00146         MOVWF       CCP1CON
001C   303C           00147         MOVLW       B'00111100'
001D   009D           00148         MOVWF       CCP2CON
                      00149         
001E   3005           00150         MOVLW       B'00000101'         ; Initialize and hold timer 2
001F   0092           00151         MOVWF       T2CON
0020   0191           00152         CLRF        TMR2
0021   1112           00153         BCF         T2CON, TMR2ON
                      00154         
0022   3010           00155         MOVLW       0X10                ; TMR1 for Ultrasonic Sensors
0023   0090           00156         MOVWF       T1CON
0024   018F           00157         CLRF        TMR1H
0025   018E           00158         CLRF        TMR1L
                      00159         
                      00160         ;CALL       i2c_common_setup
0026   2???           00161         CALL        InitLCD
                      00162         
0027   0185           00163         CLRF        PORTA
0028   0186           00164         CLRF        PORTB
0029   0187           00165         CLRF        PORTC
002A   0188           00166         CLRF        PORTD
002B   0189           00167         CLRF        PORTE
                      00168         
002C   01CB           00169         CLRF        num_spots
002D   01CA           00170         CLRF        spot_count
002E   01C2           00171         CLRF        spot_detected
002F   01C7           00172         CLRF        measured_distance_lat
0030   1387           00173         BCF         BUZZER
                      00174         
0031   2???           00175         CALL        START_MSG
                      00176 ;******************************************************************************;
                      00177 ;                        ROBOT START AND STANDBY                               ;
                      00178 ;******************************************************************************;
0032                  00179 START_STDBY
0032   1C86           00180         BTFSS       PORTB, 1            ; Wait until data is available from the keypad
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0033   2???           00181         GOTO        START_STDBY
                      00182 
0034   0E06           00183         SWAPF       PORTB, W            ; Read PortB<7:4> into W<3:0>
0035   390F           00184         ANDLW       0x0F
0036   2???           00185         CALL        CLR_LCD
                      00186 
0037   1886           00187         BTFSC       PORTB,1             ; Wait until key is released
0038   2???           00188         GOTO        $-1
                      00189 
0039   2???           00190         CALL        CLR_LCD
003A   2???           00191         CALL        DEL_1S
003B   2???           00192         CALL        DEL_1S
003C   1287           00193         BCF         MOTOR_DIR_CTRL
003D   1512           00194         BSF         T2CON, TMR2ON
                      00195         
                      00196         ;CALL       SET_RTC_TIME
                      00197         ;CALL       GET_START_TIME
003E   2???           00198         GOTO        CALIBRATE
                      00199 
                      00200 ;******************************************************************************;
                      00201 ;                           SENSOR CALIBRATION                                 ;
                      00202 ;******************************************************************************;
003F                  00203 CALIBRATE
003F   2???           00204         CALL        DEL_10MS
0040   2???           00205         CALL        DEL_10MS
0041   2???           00206         CALL        DEL_10MS
0042   2???           00207         CALL        DEL_10MS
0043   2???           00208         CALL        DEL_10MS
0044   2???           00209         CALL        USONIC_LAT
0045   3025           00210         MOVLW       crit_dist
0046   0247           00211         SUBWF       measured_distance_lat, W
0047   1803           00212         BTFSC       STATUS, 0
0048   2???           00213         GOTO        CALIBRATE
0049   1787           00214         BSF         BUZZER
004A   2???           00215         CALL        DEL_10MS
004B   2???           00216         CALL        DEL_10MS
004C   1008           00217         BCF         US_LAT_TRIG
004D   1088           00218         BCF         US_LAT_ECHO
004E   01C7           00219         CLRF        measured_distance_lat
004F   01B6           00220         CLRF        Q
                      00221 ;       BSF         INTCON, RBIE            ; Enable interrupts
                      00222 ;       BSF         INTCON, INTE
                      00223 ;       BSF         INTCON, GIE
0050   1387           00224         BCF         BUZZER
                      00225         ;BCF        MOTOR_DIR_CTRL
0051   304C           00226         MOVLW       spot_base_loc
0052   0084           00227         MOVWF       FSR
0053   2???           00228         GOTO        SCAN
                      00229         
                      00230 ;******************************************************************************;
                      00231 ;                         PIPE SCAN SUPERLOOP                                  ;
                      00232 ;******************************************************************************;
0054                  00233 SCAN
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00234 ;       CALL        DEL_10MS
                      00235 ;       CALL        DEL_10MS
                      00236 ;       CALL        DEL_10MS
                      00237 ;       CALL        DEL_10MS
                      00238 ;       CALL        DEL_10MS
                      00239 ;       CALL        USONIC_LAT
                      00240 ;       CALL        MOTOR_CTRL_R
                      00241 ;       CALL        MOTOR_CTRL_L
                      00242 ;       CALL        DEL_10MS
                      00243 ;       CALL        DEL_10MS
                      00244 ;       CALL        DEL_10MS
                      00245 ;       CALL        DEL_10MS
                      00246 ;       CALL        USONIC_LAT
                      00247 ;       MOVLW       crit_dist
                      00248 ;       SUBWF       measured_distance_lat, W
                      00249 ;       BTFSC       STATUS, 0
                      00250 ;       GOTO        RETURN_HOME
                      00251 ;;      CALL        SHOW_RTC                ; DEBUG
0054   2???           00252 s       CALL        READ_IRS    
0055   2???           00253         GOTO        SCAN
                      00254 
                      00255 ;******************************************************************************;
                      00256 ;                           RETURN HOME ROUTINE                                ;
                      00257 ;******************************************************************************;
0056                  00258 RETURN_HOME
0056   018B           00259         CLRF        INTCON
0057   2???           00260         CALL        DEL_1S
0058   1687           00261         BSF         MOTOR_DIR_CTRL
0059   2???           00262         CALL        DEL_1S
005A   2???           00263         CALL        DEL_1S
005B   2???           00264         CALL        DEL_1S
005C                  00265 RETURN_LOOP
                      00266         ;BSF        BUZZER 
005C   2???           00267         CALL        USONIC_LAT
005D   3025           00268         MOVLW       crit_dist
005E   0247           00269         SUBWF       measured_distance_lat, W
005F   1C03           00270         BTFSS       STATUS, 0
0060   2???           00271         GOTO        RETURN_LOOP
0061   2???           00272         GOTO        FINAL_BACKUP
                      00273 
0062                  00274 FINAL_BACKUP
0062   2???           00275         CALL        DEL_1S
0063   2???           00276         GOTO        STOP_STDBY
                      00277         
                      00278 ;******************************************************************************;
                      00279 ;                             STOP STANDBY                                     ;
                      00280 ;******************************************************************************;
0064                  00281 STOP_STDBY
                      00282         ;CLRF       T2CON
                      00283         ;CLRF       TMR2
                      00284         ;CLRF       CCP1CON
                      00285         ;CLRF       CCP2CON
0064   0195           00286         CLRF        CCPR1L
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0065   019B           00287         CLRF        CCPR2L
                      00288 
                      00289         ;CALL       GET_STOP_TIME       ; Get stop time
0066   2???           00290         CALL        STOP_STDBY_MSG      ; Display standby message
0067   1C86           00291         BTFSS       PORTB, 1            ; Wait until data is available from the keypad
0068   2???           00292         GOTO        $-1
0069   0E06           00293         SWAPF       PORTB, W            ; Read PortB<7:4> into W<3:0>
006A   390F           00294         ANDLW       0x0F 
006B   2???           00295         CALL        CLR_LCD
006C   2???           00296         GOTO        STOP_DATA           ; Display run data
                      00297 
                      00298 ;******************************************************************************;
                      00299 ;                          INTERRUPT HANDLER                                   ;
                      00300 ;******************************************************************************;
006D                  00301 INT_HANDLER
006D   00B1           00302         MOVWF       temp_w
006E   0E03           00303         SWAPF       STATUS, W
006F   00B2           00304         MOVWF       temp_status
0070   100B           00305         BCF         INTCON, RBIF
0071   108B           00306         BCF         INTCON, INTF          ; Clear the interrupt flag
                      00307         
0072   2???           00308         CALL        WHL_ENC
                      00309         
0073   0E32           00310         SWAPF       temp_status, W
0074   0083           00311         MOVWF       STATUS
0075   0EB1           00312         SWAPF       temp_w, F
0076   0E31           00313         SWAPF       temp_w, W
0077   0009           00314         RETFIE
                      00315 
                      00316 ;******************************************************************************;
                      00317 ;                       CYCLE INFRARED SENSORS                                 ;
                      00318 ;******************************************************************************;
0078                  00319 READ_IRS
0078   3010           00320         MOVLW       d'16'
0079   00C3           00321         MOVWF       multiplex_count
007A                  00322 MX_LOOP 
                      00323 ;       DECF        multiplex_count
                      00324 ;       BCF         MUX_CTRL_0
                      00325 ;       BTFSC       multiplex_count, 0
                      00326 ;       BSF         MUX_CTRL_0
                      00327 ;       BCF         MUX_CTRL_1
                      00328 ;       BTFSC       multiplex_count, 1
                      00329 ;       BSF         MUX_CTRL_1
                      00330 ;       BCF         MUX_CTRL_2
                      00331 ;       BTFSC       multiplex_count, 2
                      00332 ;       BSF         MUX_CTRL_2
                      00333 ;       BCF         MUX_CTRL_3
                      00334 ;       BTFSC       multiplex_count, 3
                      00335 ;       BSF         MUX_CTRL_3
                      00336         
007A   1009           00337         BCF         MUX_CTRL_0
007B   1089           00338         BCF         MUX_CTRL_1
007C   1505           00339         BSF         MUX_CTRL_2
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

007D   1685           00340         BSF         MUX_CTRL_3
                      00341 
007E   30C1           00342         movlw       b'11000001' ; AD at RA0
007F   009F           00343         movwf       ADCON0
0080   2???           00344         CALL        DEL_20US
0081   2???           00345         CALL        DEL_20US
0082   2???           00346         CALL        DEL_20US
0083   2???           00347         CALL        DEL_20US
0084   2???           00348         CALL        DEL_20US
0085   151F           00349         bsf         ADCON0,2
0086   191F           00350         btfsc       ADCON0,2
0087   2???           00351         goto        $-1
                      00352 
0088   081E           00353         MOVFW       ADRESH 
0089   3CC8           00354         SUBLW       D'200'
008A   1C03           00355         BTFSS       STATUS, 0
008B   0008           00356         RETURN
008C   1787           00357         BSF         BUZZER
008D   2???           00358         CALL        DEL_1S
008E   1387           00359         BCF         BUZZER
008F   2???           00360         CALL        DEL_10MS
                      00361 ;       
                      00362 ;       BTFSC       MUX_IN
                      00363 ;       RETURN
                      00364 ;       GOTO        MX_LOOP;NO_SPOT 
                      00365 ;       BSF         BUZZER                              ; Buzzer start
                      00366 ;       CALL        DEL_1S
                      00367 ;       MOVFW       rob_long_distance                   ; Save spot location
                      00368 ;       MOVWF       INDF
                      00369 ;       INCF        num_spots, f                        ; Increase number of spots
                      00370 ;       INCF        FSR, F
                      00371 ;       BCF         BUZZER                              ; Buzzer stop
                      00372 ;;NO_SPOT       INCF        multiplex_count
                      00373 ;;      DECFSZ      multiplex_count
                      00374 ;       GOTO        MX_LOOP
0090   0008           00375         RETURN  
                      00376 ;******************************************************************************;
                      00377 ;                         WHEEL ENCODER ROUTINE                                ;
                      00378 ;******************************************************************************;
0091                  00379 WHL_ENC
Message[305]: Using default destination of 1 (file).
0091   0AC5           00380         INCF        rob_long_distance_count ; Increment number of changes
0092   3006           00381         MOVLW       0x06                    ; Every six changes is approx 1in
0093   02C5           00382         SUBWF       rob_long_distance_count, F
0094   1D03           00383         BTFSS       STATUS, 2
Message[305]: Using default destination of 1 (file).
0095   0AC6           00384         INCF        rob_long_distance       ; One inch was covered
0096   01C5           00385         CLRF        rob_long_distance_count
0097   0008           00386         RETURN
                      00387         
                      00388 ;******************************************************************************;
                      00389 ;                     ULTRASONIC SENSOR SUBROUTINES                            ;
                      00390 ;******************************************************************************;
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0098                  00391 USONIC_LAT
0098   1408           00392         BSF         US_LAT_TRIG
0099   2???           00393         CALL        DEL_20US
009A   1008           00394         BCF         US_LAT_TRIG
009B                  00395 USONIC_LAT_ECHO
009B   1C88           00396         BTFSS       US_LAT_ECHO
009C   2???           00397         GOTO        $-1
009D   1410           00398         BSF         T1CON, 0
009E   1888           00399 USHOLDL BTFSC       US_LAT_ECHO
009F   2???           00400         GOTO        USHOLDL
00A0   1010           00401         BCF         T1CON, 0
00A1   080F           00402         MOVF        TMR1H, W
00A2   00B3           00403         MOVWF       DIV_HI
00A3   080E           00404         MOVF        TMR1L, W
00A4   00B4           00405         MOVWF       DIV_LO
00A5   018F           00406         CLRF        TMR1H
00A6   018E           00407         CLRF        TMR1L
00A7   303A           00408         MOVLW       d'58'
00A8   00B5           00409         MOVWF       DIVISOR
00A9   2???           00410         CALL        DIV16X8
00AA   0836           00411         MOVF        Q, W
00AB   00C7           00412         MOVWF       measured_distance_lat
                      00413 ;       CALL        rtc_convert
                      00414 ;       CALL        CLR_LCD             ; DEBUG!
                      00415 ;       WRT_MEM_LCD 0x77
                      00416 ;       WRT_MEM_LCD 0x78
00AC   0008           00417         RETURN
                      00418         
                      00419 ;******************************************************************************;
                      00420 ;                              ACTIVE CONTROL                                  ;
                      00421 ;******************************************************************************;
00AD                  00422 MOTOR_CTRL_R                                ; Turn right - robot is too close
00AD   3008           00423         MOVLW       crit_dist_l
00AE   0247           00424         SUBWF       measured_distance_lat, W
00AF   1C03           00425         BTFSs       STATUS, 0               ; C==0 if measured_distance_lat < crit_dist
00B0   0008           00426         RETURN
00B1   1A87           00427         BTFSC       MOTOR_DIR_CTRL
00B2   2???           00428         GOTO        STOP_L
00B3                  00429 STOP_R  ;BCF        T2CON, TMR2ON
                      00430         ;BCF        PORTC, 2
00B3   019B           00431         CLRF        CCPR2L
00B4   2???           00432         CALL        DEL_10MS
00B5   2???           00433         CALL        DEL_10MS
00B6   2???           00434         CALL        DEL_10MS
00B7   2???           00435         CALL        DEL_10MS
00B8   2???           00436         CALL        DEL_10MS
                      00437 
                      00438 
00B9   30FF           00439         MOVLW       R_MOTOR_SPD
00BA   009B           00440         MOVWF       CCPR2L
                      00441         ;BSF        PORTC, 2
                      00442         ;BSF        T2CON, TMR2ON
00BB   0008           00443         RETURN
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00444 
00BC                  00445 MOTOR_CTRL_L                                ; Turn left - robot is too far
00BC   3008           00446         MOVLW       crit_dist_r
00BD   0247           00447         SUBWF       measured_distance_lat, W
00BE   1803           00448         BTFSC       STATUS, 0               ; C==0 if measured_distance_lat >= crit_dist
00BF   0008           00449         RETURN
00C0   1A87           00450         BTFSC       MOTOR_DIR_CTRL
00C1   2???           00451         GOTO        STOP_R
00C2                  00452 STOP_L  ;BCF        T2CON, TMR2ON
                      00453         ;BCF        PORTC, 1
00C2   0195           00454         CLRF        CCPR1L
                      00455 
00C3   2???           00456         CALL        DEL_10MS
00C4   2???           00457         CALL        DEL_10MS
00C5   2???           00458         CALL        DEL_10MS
00C6   2???           00459         CALL        DEL_10MS
00C7   2???           00460         CALL        DEL_10MS
                      00461 
00C8   30FF           00462         MOVLW       L_MOTOR_SPD
00C9   0095           00463         MOVWF       CCPR1L
                      00464         ;BSF        PORTC, 1
                      00465         ;BSF        T2CON, TMR2ON
00CA   0008           00466         RETURN
                      00467         
                      00468 ;******************************************************************************;
                      00469 ;                               DISPLAY DATA                                   ;
                      00470 ;******************************************************************************;
00CB                  00471 STOP_DATA
                      00472         WRT_LCD     "T"
00CB   3054               M         MOVLW       "T"
00CC   2???               M         CALL        WR_DATA
                      00473         WRT_LCD     "I"
00CD   3049               M         MOVLW       "I"
00CE   2???               M         CALL        WR_DATA
                      00474         WRT_LCD     "M"
00CF   304D               M         MOVLW       "M"
00D0   2???               M         CALL        WR_DATA
                      00475         WRT_LCD     "E"
00D1   3045               M         MOVLW       "E"
00D2   2???               M         CALL        WR_DATA
                      00476         WRT_LCD     ":"
00D3   303A               M         MOVLW       ":"
00D4   2???               M         CALL        WR_DATA
                      00477         WRT_LCD     " "
00D5   3020               M         MOVLW       " "
00D6   2???               M         CALL        WR_DATA
                      00478         ;Get minute             
                      00479 ;       rtc_read    0x01                ;Read Address 0x01 from DS1307---min
                      00480         ;WRT_MEM_LCD 0x77
                      00481 ;       .WRT_MEM_LCD 0x78
                      00482 ;       WRT_LCD     ":"
                      00483 
                      00484         ;Get seconds
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00485         ;rtc_read    0x00               ;Read Address 0x00 from DS1307---seconds
                      00486 ;       WRT_MEM_LCD 0x77
                      00487 ;       WRT_MEM_LCD 0x78
                      00488 
00D7   30C0           00489         movlw       B'11000000'         ;Next line displays (min):(sec) **:**
00D8   2???           00490         call        WR_INS
00D9   2???           00491         CALL        WRT_DATA
00DA   2???           00492         CALL        DEL_1S
00DB   2???           00493         CALL        DEL_1S
00DC   2???           00494         CALL        CLR_LCD
                      00495         
00DD   304C           00496         MOVLW       spot_base_loc
00DE   0084           00497         MOVWF       FSR
                      00498         
00DF                  00499 DATA_LOOP       
                      00500         WRT_LCD     "S"
00DF   3053               M         MOVLW       "S"
00E0   2???               M         CALL        WR_DATA
                      00501         WRT_LCD     "P"
00E1   3050               M         MOVLW       "P"
00E2   2???               M         CALL        WR_DATA
                      00502         WRT_LCD     "O"
00E3   304F               M         MOVLW       "O"
00E4   2???               M         CALL        WR_DATA
                      00503         WRT_LCD     "T"
00E5   3054               M         MOVLW       "T"
00E6   2???               M         CALL        WR_DATA
                      00504         WRT_LCD     ":"
00E7   303A               M         MOVLW       ":"
00E8   2???               M         CALL        WR_DATA
                      00505         WRT_LCD     " "
00E9   3020               M         MOVLW       " "
00EA   2???               M         CALL        WR_DATA
                      00506         WRT_MEM_LCD INDF
00EB   0800               M         MOVFW       INDF
00EC   2???               M         CALL        WR_DATA
                      00507         WRT_LCD     "c"
00ED   3063               M         MOVLW       "c"
00EE   2???               M         CALL        WR_DATA
                      00508         WRT_LCD     "m"
00EF   306D               M         MOVLW       "m"
00F0   2???               M         CALL        WR_DATA
                      00509         
00F1   2???           00510         CALL        DEL_1S
                      00511         
00F2   2???           00512         CALL        CLR_LCD
00F3   0A84           00513         INCF        FSR, F
                      00514 
00F4   0BCA           00515         DECFSZ      spot_count, F
00F5   2???           00516         GOTO        DATA_LOOP
                      00517         
                      00518         WRT_LCD     "E"
00F6   3045               M         MOVLW       "E"
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00F7   2???               M         CALL        WR_DATA
                      00519         WRT_LCD     "N"
00F8   304E               M         MOVLW       "N"
00F9   2???               M         CALL        WR_DATA
                      00520         WRT_LCD     "D"
00FA   3044               M         MOVLW       "D"
00FB   2???               M         CALL        WR_DATA
                      00521 
00FC   2???           00522         GOTO        FINISH
                      00523 
                      00524 ;******************************************************************************;
                      00525 ;                                  HELLO                                       ;
                      00526 ;******************************************************************************;
00FD                  00527 START_MSG
                      00528         WRT_LCD     "H"
00FD   3048               M         MOVLW       "H"
00FE   2???               M         CALL        WR_DATA
                      00529         WRT_LCD     "I"
00FF   3049               M         MOVLW       "I"
0100   2???               M         CALL        WR_DATA
                      00530         WRT_LCD     "T"
0101   3054               M         MOVLW       "T"
0102   2???               M         CALL        WR_DATA
                      00531         WRT_LCD     " "
0103   3020               M         MOVLW       " "
0104   2???               M         CALL        WR_DATA
                      00532         WRT_LCD     "*"
0105   302A               M         MOVLW       "*"
0106   2???               M         CALL        WR_DATA
                      00533         WRT_LCD     " "
0107   3020               M         MOVLW       " "
0108   2???               M         CALL        WR_DATA
                      00534         WRT_LCD     "T"
0109   3054               M         MOVLW       "T"
010A   2???               M         CALL        WR_DATA
                      00535         WRT_LCD     "O"
010B   304F               M         MOVLW       "O"
010C   2???               M         CALL        WR_DATA
                      00536         WRT_LCD     " "
010D   3020               M         MOVLW       " "
010E   2???               M         CALL        WR_DATA
                      00537         WRT_LCD     "S"
010F   3053               M         MOVLW       "S"
0110   2???               M         CALL        WR_DATA
                      00538         WRT_LCD     "T"
0111   3054               M         MOVLW       "T"
0112   2???               M         CALL        WR_DATA
                      00539         WRT_LCD     "A"
0113   3041               M         MOVLW       "A"
0114   2???               M         CALL        WR_DATA
                      00540         WRT_LCD     "R"
0115   3052               M         MOVLW       "R"
0116   2???               M         CALL        WR_DATA
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00541         WRT_LCD     "T"
0117   3054               M         MOVLW       "T"
0118   2???               M         CALL        WR_DATA
0119   0008           00542         RETURN
                      00543         
                      00544 ;******************************************************************************;
                      00545 ;                                GOODBYE                                       ;
                      00546 ;******************************************************************************;
011A                  00547 STOP_STDBY_MSG
                      00548         WRT_LCD     "H"
011A   3048               M         MOVLW       "H"
011B   2???               M         CALL        WR_DATA
                      00549         WRT_LCD     "I"
011C   3049               M         MOVLW       "I"
011D   2???               M         CALL        WR_DATA
                      00550         WRT_LCD     "T"
011E   3054               M         MOVLW       "T"
011F   2???               M         CALL        WR_DATA
                      00551         WRT_LCD     " "
0120   3020               M         MOVLW       " "
0121   2???               M         CALL        WR_DATA
                      00552         WRT_LCD     "*"
0122   302A               M         MOVLW       "*"
0123   2???               M         CALL        WR_DATA
                      00553         WRT_LCD     " "
0124   3020               M         MOVLW       " "
0125   2???               M         CALL        WR_DATA
                      00554         WRT_LCD     "F"
0126   3046               M         MOVLW       "F"
0127   2???               M         CALL        WR_DATA
                      00555         WRT_LCD     "O"
0128   304F               M         MOVLW       "O"
0129   2???               M         CALL        WR_DATA
                      00556         WRT_LCD     "R"
012A   3052               M         MOVLW       "R"
012B   2???               M         CALL        WR_DATA
                      00557         WRT_LCD     " "
012C   3020               M         MOVLW       " "
012D   2???               M         CALL        WR_DATA
                      00558         WRT_LCD     "D"
012E   3044               M         MOVLW       "D"
012F   2???               M         CALL        WR_DATA
                      00559         WRT_LCD     "A"
0130   3041               M         MOVLW       "A"
0131   2???               M         CALL        WR_DATA
                      00560         WRT_LCD     "T"
0132   3054               M         MOVLW       "T"
0133   2???               M         CALL        WR_DATA
                      00561         WRT_LCD     "A"
0134   3041               M         MOVLW       "A"
0135   2???               M         CALL        WR_DATA
0136   0008           00562         RETURN
                      00563          
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00564 ;******************************************************************************;
                      00565 ;                                 DATA                                         ;
                      00566 ;******************************************************************************;
0137                  00567 WRT_DATA        
                      00568         WRT_LCD     "N"
0137   304E               M         MOVLW       "N"
0138   2???               M         CALL        WR_DATA
                      00569         WRT_LCD     "U"
0139   3055               M         MOVLW       "U"
013A   2???               M         CALL        WR_DATA
                      00570         WRT_LCD     "M"
013B   304D               M         MOVLW       "M"
013C   2???               M         CALL        WR_DATA
                      00571         WRT_LCD     " "
013D   3020               M         MOVLW       " "
013E   2???               M         CALL        WR_DATA
                      00572         WRT_LCD     "S"
013F   3053               M         MOVLW       "S"
0140   2???               M         CALL        WR_DATA
                      00573         WRT_LCD     "P"
0141   3050               M         MOVLW       "P"
0142   2???               M         CALL        WR_DATA
                      00574         WRT_LCD     "O"
0143   304F               M         MOVLW       "O"
0144   2???               M         CALL        WR_DATA
                      00575         WRT_LCD     "T"
0145   3054               M         MOVLW       "T"
0146   2???               M         CALL        WR_DATA
                      00576         WRT_LCD     "S"
0147   3053               M         MOVLW       "S"
0148   2???               M         CALL        WR_DATA
                      00577         WRT_LCD     ":"
0149   303A               M         MOVLW       ":"
014A   2???               M         CALL        WR_DATA
                      00578         WRT_LCD     " "
014B   3020               M         MOVLW       " "
014C   2???               M         CALL        WR_DATA
                      00579         CWRT_MEM_LCD num_spots
014D   084B               M         MOVFW       num_spots
014E   3E30               M         ADDLW       D'48'
014F   2???               M         CALL        WR_DATA
0150   0008           00580         RETURN
                      00581 ;******************************************************************************;
                      00582 ;                           RETREIVE START TIME                                ;
                      00583 ;******************************************************************************;
0151                  00584 GET_START_TIME
                      00585         ;Get minute             
                      00586         rtc_read    0x01                ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;                       0x77 and the ones digit is placed in 0x78
0151   3001               M         movlw       0x01
0152   1283 1303          M         banksel     0x73
0154   00F3               M         movwf       0x73
0155   2???               M         call        read_rtc
0156   1283 1303          M         banksel     0x75
0158   0875               M         movf        0x75,w
0159   2???               M         call        rtc_convert   
015A   0877           00587         MOVFW       0X77
015B   00BB           00588         MOVWF       start_min10
015C   0878           00589         MOVFW       0X78
015D   00BA           00590         MOVWF       start_min
                      00591 
                      00592         ;Get seconds
                      00593         rtc_read    0x00                ;Read Address 0x00 from DS1307---seconds
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
015E   3000               M         movlw       0x00
015F   1283 1303          M         banksel     0x73
0161   00F3               M         movwf       0x73
0162   2???               M         call        read_rtc
0163   1283 1303          M         banksel     0x75
0165   0875               M         movf        0x75,w
0166   2???               M         call        rtc_convert   
0167   0877           00594         MOVFW       0X77
0168   00BD           00595         MOVWF       start_sec10
0169   0878           00596         MOVFW       0X78
016A   00BC           00597         MOVWF       start_sec
016B   0008           00598         RETURN
                      00599 ;******************************************************************************;
                      00600 ;                           RETREIVE STOP TIME                                 ;
                      00601 ;******************************************************************************;
016C                  00602 GET_STOP_TIME
                      00603         ;Get minute             
                      00604         rtc_read    0x01                ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
016C   3001               M         movlw       0x01
016D   1283 1303          M         banksel     0x73
016F   00F3               M         movwf       0x73
0170   2???               M         call        read_rtc
0171   1283 1303          M         banksel     0x75
0173   0875               M         movf        0x75,w
0174   2???               M         call        rtc_convert   
0175   0877           00605         MOVFW       0X77
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0176   00BF           00606         MOVWF       stop_min10
0177   0878           00607         MOVFW       0X78
0178   00BE           00608         MOVWF       stop_min
                      00609 
                      00610         ;Get seconds
                      00611         rtc_read    0x00                ;Read Address 0x00 from DS1307---seconds
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
0179   3000               M         movlw       0x00
017A   1283 1303          M         banksel     0x73
017C   00F3               M         movwf       0x73
017D   2???               M         call        read_rtc
017E   1283 1303          M         banksel     0x75
0180   0875               M         movf        0x75,w
0181   2???               M         call        rtc_convert   
0182   0877           00612         MOVFW       0X77
0183   00C1           00613         MOVWF       stop_sec10
0184   0878           00614         MOVFW       0X78
0185   00C0           00615         MOVWF       stop_sec
0186   0008           00616         RETURN
                      00617 ;******************************************************************************;
                      00618 ;                       DISPLAY RTC TIME TO LCD                                ;
                      00619 ;******************************************************************************;
0187                  00620 SHOW_RTC
                      00621         ;clear LCD screen
0187   3001           00622         movlw       b'00000001'
0188   2???           00623         call        WR_INS
                      00624 
                      00625         ;Get year
                      00626         WRT_LCD     "2"
0189   3032               M         MOVLW       "2"
018A   2???               M         CALL        WR_DATA
                      00627         WRT_LCD     "0"
018B   3030               M         MOVLW       "0"
018C   2???               M         CALL        WR_DATA
                      00628         rtc_read    0x06                ;Read Address 0x06 from DS1307---year
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
018D   3006               M         movlw       0x06
018E   1283 1303          M         banksel     0x73
0190   00F3               M         movwf       0x73
0191   2???               M         call        read_rtc
0192   1283 1303          M         banksel     0x75
0194   0875               M         movf        0x75,w
0195   2???               M         call        rtc_convert   
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00629         WRT_MEM_LCD 0x77
0196   0877               M         MOVFW       0x77
0197   2???               M         CALL        WR_DATA
                      00630         WRT_MEM_LCD 0x78
0198   0878               M         MOVFW       0x78
0199   2???               M         CALL        WR_DATA
                      00631 
                      00632         WRT_LCD     "/"
019A   302F               M         MOVLW       "/"
019B   2???               M         CALL        WR_DATA
                      00633 
                      00634         ;Get month
                      00635         rtc_read    0x05                ;Read Address 0x05 from DS1307---month
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
019C   3005               M         movlw       0x05
019D   1283 1303          M         banksel     0x73
019F   00F3               M         movwf       0x73
01A0   2???               M         call        read_rtc
01A1   1283 1303          M         banksel     0x75
01A3   0875               M         movf        0x75,w
01A4   2???               M         call        rtc_convert   
                      00636         WRT_MEM_LCD 0x77
01A5   0877               M         MOVFW       0x77
01A6   2???               M         CALL        WR_DATA
                      00637         WRT_MEM_LCD 0x78
01A7   0878               M         MOVFW       0x78
01A8   2???               M         CALL        WR_DATA
                      00638 
                      00639         WRT_LCD     "/"
01A9   302F               M         MOVLW       "/"
01AA   2???               M         CALL        WR_DATA
                      00640 
                      00641         ;Get day
                      00642         rtc_read    0x04                ;Read Address 0x04 from DS1307---day
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
01AB   3004               M         movlw       0x04
01AC   1283 1303          M         banksel     0x73
01AE   00F3               M         movwf       0x73
01AF   2???               M         call        read_rtc
01B0   1283 1303          M         banksel     0x75
01B2   0875               M         movf        0x75,w
01B3   2???               M         call        rtc_convert   
                      00643         WRT_MEM_LCD 0x77
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B4   0877               M         MOVFW       0x77
01B5   2???               M         CALL        WR_DATA
                      00644         WRT_MEM_LCD 0x78
01B6   0878               M         MOVFW       0x78
01B7   2???               M         CALL        WR_DATA
                      00645 
01B8   30C0           00646         movlw       B'11000000'         ;Next line displays (hour):(min):(sec) **:**:**
01B9   2???           00647         call        WR_INS
                      00648         ;Get hour
                      00649         rtc_read    0x02                ;Read Address 0x02 from DS1307---hour
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
01BA   3002               M         movlw       0x02
01BB   1283 1303          M         banksel     0x73
01BD   00F3               M         movwf       0x73
01BE   2???               M         call        read_rtc
01BF   1283 1303          M         banksel     0x75
01C1   0875               M         movf        0x75,w
01C2   2???               M         call        rtc_convert   
                      00650         WRT_MEM_LCD 0x77
01C3   0877               M         MOVFW       0x77
01C4   2???               M         CALL        WR_DATA
                      00651         WRT_MEM_LCD 0x78
01C5   0878               M         MOVFW       0x78
01C6   2???               M         CALL        WR_DATA
                      00652         WRT_LCD     ":"
01C7   303A               M         MOVLW       ":"
01C8   2???               M         CALL        WR_DATA
                      00653 
                      00654         ;Get minute             
                      00655         rtc_read    0x01                ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
01C9   3001               M         movlw       0x01
01CA   1283 1303          M         banksel     0x73
01CC   00F3               M         movwf       0x73
01CD   2???               M         call        read_rtc
01CE   1283 1303          M         banksel     0x75
01D0   0875               M         movf        0x75,w
01D1   2???               M         call        rtc_convert   
                      00656         WRT_MEM_LCD 0x77
01D2   0877               M         MOVFW       0x77
01D3   2???               M         CALL        WR_DATA
                      00657         WRT_MEM_LCD 0x78
01D4   0878               M         MOVFW       0x78
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01D5   2???               M         CALL        WR_DATA
                      00658         WRT_LCD     ":"
01D6   303A               M         MOVLW       ":"
01D7   2???               M         CALL        WR_DATA
                      00659 
                      00660         ;Get seconds
                      00661         rtc_read    0x00                ;Read Address 0x00 from DS1307---seconds
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
01D8   3000               M         movlw       0x00
01D9   1283 1303          M         banksel     0x73
01DB   00F3               M         movwf       0x73
01DC   2???               M         call        read_rtc
01DD   1283 1303          M         banksel     0x75
01DF   0875               M         movf        0x75,w
01E0   2???               M         call        rtc_convert   
                      00662         WRT_MEM_LCD 0x77
01E1   0877               M         MOVFW       0x77
01E2   2???               M         CALL        WR_DATA
                      00663         WRT_MEM_LCD 0x78
01E3   0878               M         MOVFW       0x78
01E4   2???               M         CALL        WR_DATA
                      00664 
01E5   0008           00665         RETURN
                      00666 ;******************************************************************************;
                      00667 ;                       INITIALIZE RTC TIME                                    ;
                      00668 ;******************************************************************************;                
01E6                  00669 SET_RTC_TIME
                      00670         rtc_resetAll    ;reset rtc
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          Resets all the time keeping registers on the RTC to zero
01E6   1283 1303          M         banksel     0x74
01E8   01F4               M         clrf        0x74
01E9   1283 1303          M         banksel     0x73
01EB   01F3               M         clrf        0x73
01EC   2???               M         call        write_rtc           ;Write 0 to Seconds
01ED   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01EF   0AF3               M         incf        0x73                        ;Set register address to 1
01F0   2???               M         call        write_rtc
01F1   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01F3   0AF3               M         incf        0x73                        ;Set register address to 2
01F4   2???               M         call        write_rtc
01F5   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01F7   0AF3               M         incf        0x73                        ;Set register address to 3
01F8   2???               M         call        write_rtc
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01F9   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01FB   0AF3               M         incf        0x73                        ;Set register address to 4
01FC   2???               M         call        write_rtc
01FD   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01FF   0AF3               M         incf        0x73                        ;Set register address to 5
0200   2???               M         call        write_rtc
0201   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
0203   0AF3               M         incf        0x73                        ;Set register address to 6
0204   2???               M         call        write_rtc
                      00671 
                      00672         rtc_set     0x00,       B'10000000'
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0205   1283 1303          M         banksel     0x73
0207   3000               M         movlw       0x00
0208   00F3               M         movwf       0x73
0209   1283 1303          M         banksel     0x74
020B   3080               M         movlw       B'10000000'
020C   00F4               M         movwf       0x74        
020D   2???               M         call        write_rtc
                      00673 
                      00674         ;set time 
                      00675         rtc_set     0x06,       B'00010110'             ; Year
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
020E   1283 1303          M         banksel     0x73
0210   3006               M         movlw       0x06
0211   00F3               M         movwf       0x73
0212   1283 1303          M         banksel     0x74
0214   3016               M         movlw       B'00010110'
0215   00F4               M         movwf       0x74        
0216   2???               M         call        write_rtc
                      00676         rtc_set     0x05,       B'00000100'             ; Month
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0217   1283 1303          M         banksel     0x73
0219   3005               M         movlw       0x05
021A   00F3               M         movwf       0x73
021B   1283 1303          M         banksel     0x74
021D   3004               M         movlw       B'00000100'
021E   00F4               M         movwf       0x74        
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

021F   2???               M         call        write_rtc
                      00677         rtc_set     0x04,       B'00000110'             ; Date
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0220   1283 1303          M         banksel     0x73
0222   3004               M         movlw       0x04
0223   00F3               M         movwf       0x73
0224   1283 1303          M         banksel     0x74
0226   3006               M         movlw       B'00000110'
0227   00F4               M         movwf       0x74        
0228   2???               M         call        write_rtc
                      00678         rtc_set     0x03,       B'00000010'             ; Day
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0229   1283 1303          M         banksel     0x73
022B   3003               M         movlw       0x03
022C   00F3               M         movwf       0x73
022D   1283 1303          M         banksel     0x74
022F   3002               M         movlw       B'00000010'
0230   00F4               M         movwf       0x74        
0231   2???               M         call        write_rtc
                      00679         rtc_set     0x02,       B'00000000'             ; Hours
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0232   1283 1303          M         banksel     0x73
0234   3002               M         movlw       0x02
0235   00F3               M         movwf       0x73
0236   1283 1303          M         banksel     0x74
0238   3000               M         movlw       B'00000000'
0239   00F4               M         movwf       0x74        
023A   2???               M         call        write_rtc
                      00680         rtc_set     0x01,       B'00000000'             ; Minutes
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
023B   1283 1303          M         banksel     0x73
023D   3001               M         movlw       0x01
023E   00F3               M         movwf       0x73
023F   1283 1303          M         banksel     0x74
0241   3000               M         movlw       B'00000000'
0242   00F4               M         movwf       0x74        
0243   2???               M         call        write_rtc
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00681         rtc_set     0x00,       B'00000000'             ; Seconds
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0244   1283 1303          M         banksel     0x73
0246   3000               M         movlw       0x00
0247   00F3               M         movwf       0x73
0248   1283 1303          M         banksel     0x74
024A   3000               M         movlw       B'00000000'
024B   00F4               M         movwf       0x74        
024C   2???               M         call        write_rtc
024D   0008           00682         return
                      00683 
                      00684 ;******************************************************************************;                
                      00685 ;******************************************************************************;
                      00686 ;******************************************************************************;
024E                  00687 DIV16X8 ; DIV_HI and DIV_LO / DIVSOR.  result to Q
                      00688                 ; does not deal with divide by 0 case
024E   01B6           00689         CLRF Q
024F                  00690 DIV_1
024F   0835           00691         MOVF DIVISOR, W
0250   02B4           00692         SUBWF DIV_LO, F
0251   1C03           00693         BTFSS STATUS, C ; if positive skip
0252   2???           00694         GOTO BORROW
0253   2???           00695         GOTO DIV_2
0254                  00696 BORROW
0254   3001           00697         MOVLW 0x01
0255   02B3           00698         SUBWF DIV_HI, F ; DIV_HI = DIV_HI - 1
0256   1C03           00699         BTFSS STATUS, C ; if no borrow occurred
0257   2???           00700         GOTO DIV_DONE   
0258                  00701 DIV_2
0258   0AB6           00702         INCF Q, F
0259   2???           00703         GOTO DIV_1
025A                  00704 DIV_DONE
025A   0008           00705         RETURN
                      00706 
025B                  00707 DEL_1S
025B   3015           00708         movlw   0x15
025C   00B7           00709         movwf   d1
025D   3074           00710         movlw   0x74
025E   00B8           00711         movwf   d2
025F   3006           00712         movlw   0x06
0260   00B9           00713         movwf   d3
0261                  00714 DEL_1S_0
0261   0BB7           00715         decfsz  d1, f
0262   2???           00716         goto    $+2
0263   0BB8           00717         decfsz  d2, f
0264   2???           00718         goto    $+2
0265   0BB9           00719         decfsz  d3, f
0266   2???           00720         goto    DEL_1S_0
0267   2???           00721         goto    $+1
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0268   2???           00722         goto    $+1
0269   0008           00723         return
                      00724         
026A                  00725 DEL_10MS
026A   3086           00726         movlw   0x86
026B   00B7           00727         movwf   d1
026C   3014           00728         movlw   0x14
026D   00B8           00729         movwf   d2
026E                  00730 DEL_10MS_0
026E   0BB7           00731         decfsz  d1, f
026F   2???           00732         goto    $+2
0270   0BB8           00733         decfsz  d2, f
0271   2???           00734         goto    DEL_10MS_0
0272   2???           00735         goto    $+1
0273   0000           00736         nop
0274   0008           00737         return
                      00738         
0275                  00739 DEL_20US
0275   300F           00740         movlw   0x0F
0276   00B7           00741         movwf   d1
0277                  00742 DEL_20US_0
0277   0BB7           00743         decfsz  d1, f
0278   2???           00744         goto    DEL_20US_0
0279   0008           00745         return
                      00746 
027A                  00747 FINISH  
027A   2???           00748         GOTO    FINISH
                      00749         
3F72                  00750         END
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 25


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BORROW                            00000254
BRGH                              00000002
BUZZER                            PORTC, 7
C                                 00000000
CALIBRATE                         0000003F
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CKE                               00000006
CKP                               00000004
CLR_LCD                           00000000
CREN                              00000004
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

CSRC                              00000007
CWRT_MEM_LCD                      
D                                 00000005
DATA_ADDRESS                      00000005
DATA_LOOP                         000000DF
DC                                00000001
DEL_10MS                          0000026A
DEL_10MS_0                        0000026E
DEL_1S                            0000025B
DEL_1S_0                          00000261
DEL_20US                          00000275
DEL_20US_0                        00000277
DIV16X8                           0000024E
DIVISOR                           00000035
DIV_1                             0000024F
DIV_2                             00000258
DIV_DONE                          0000025A
DIV_HI                            00000033
DIV_LO                            00000034
D_A                               00000005
D_NOT_A                           00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FINAL_BACKUP                      00000062
FINISH                            0000027A
FSR                               00000004
GCEN                              00000007
GET_START_TIME                    00000151
GET_STOP_TIME                     0000016C
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INIT                              00000005
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 27


SYMBOL TABLE
  LABEL                             VALUE 

INTF                              00000001
INT_HANDLER                       0000006D
IRP                               00000007
InitLCD                           00000000
LCD_INS                           
L_MOTOR_SPD                       B'11111111'
MOTOR_CTRL_L                      000000BC
MOTOR_CTRL_R                      000000AD
MOTOR_DIR_CTRL                    PORTC, 5
MUX_CTRL_0                        PORTE, 0
MUX_CTRL_1                        PORTE, 1
MUX_CTRL_2                        PORTA, 2
MUX_CTRL_3                        PORTA, 5
MUX_IN                            PORTA, 0
MX_LOOP                           0000007A
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 28


SYMBOL TABLE
  LABEL                             VALUE 

PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
Q                                 00000036
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_IRS                          00000078
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 29


SYMBOL TABLE
  LABEL                             VALUE 

READ_WRITE                        00000002
RETURN_HOME                       00000056
RETURN_LOOP                       0000005C
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_MOTOR_SPD                       B'11111111'
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SCAN                              00000054
SEN                               00000000
SERVO_CTRL                        PORTC, 0
SET_RTC_TIME                      000001E6
SHOW_RTC                          00000187
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
START_MSG                         000000FD
START_STDBY                       00000032
STATUS                            00000003
STOP_DATA                         000000CB
STOP_L                            000000C2
STOP_R                            000000B3
STOP_STDBY                        00000064
STOP_STDBY_MSG                    0000011A
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 30


SYMBOL TABLE
  LABEL                             VALUE 

T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 31


SYMBOL TABLE
  LABEL                             VALUE 

TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
USHOLDL                           0000009E
USONIC_LAT                        00000098
USONIC_LAT_ECHO                   0000009B
US_LAT_ECHO                       PORTD, 1
US_LAT_TRIG                       PORTD, 0
US_SUP_ECHO                       PORTB, 4
US_SUP_TRIG                       PORTB, 3
W                                 00000000
WCOL                              00000007
WHL_ENC                           00000091
WR                                00000001
WREN                              00000002
WRERR                             00000003
WRT_DATA                          00000137
WRT_LCD                           
WRT_MEM_LCD                       
WR_DATA                           00000000
WR_INS                            00000000
Z                                 00000002
_.org_1_0038                      00000038
_.org_1_0068                      00000068
_.org_1_0087                      00000087
_.org_1_009C                      0000009C
_.org_1_0262                      00000262
_.org_1_0264                      00000264
_.org_1_0267                      00000267
_.org_1_0268                      00000268
_.org_1_026F                      0000026F
_.org_1_0272                      00000272
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 32


SYMBOL TABLE
  LABEL                             VALUE 

_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_WRT_OFF                          00003DFF
_WRT_ON                           00003FFF
_XT_OSC                           00003FFD
__16F877                          00000001
crit_dist                         0X25
crit_dist_l                       0x08
crit_dist_r                       0x08
d1                                00000037
d2                                00000038
d3                                00000039
i2c_common_setup                  00000000
long_del                          00000030
measured_distance_lat             00000047
measured_distance_sup             00000048
multiplex_count                   00000043
num_spots                         0000004B
read_rtc                          00000000
rob_lat_distance                  00000044
rob_long_distance                 00000046
rob_long_distance_count           00000045
rob_return                        00000049
rtc_convert                       00000000
rtc_read                          
rtc_resetAll                      
rtc_set                           
MPASM 5.65                          MAIN.ASM   4-7-2016  1:22:14         PAGE 33


SYMBOL TABLE
  LABEL                             VALUE 

s                                 00000054
spot_base_loc                     0000004C
spot_count                        0000004A
spot_detected                     00000042
start_min                         0000003A
start_min10                       0000003B
start_sec                         0000003C
start_sec10                       0000003D
stop_min                          0000003E
stop_min10                        0000003F
stop_sec                          00000040
stop_sec10                        00000041
temp_status                       00000032
temp_w                            00000031
write_rtc                         00000000

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    15 reported,     0 suppressed

