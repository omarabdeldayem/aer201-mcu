MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;******************************************************************************;
                      00002 ;        ____    ___  ______    ___  ____       ____  ____  ____    ___  ____  ;
                      00003 ;       |    \  /  _]|      T  /  _]|    \     |    \l    j|    \  /  _]|    \ ;
                      00004 ;       |  o  )/  [_ |      | /  [_ |  D  )    |  o  )|  T |  o  )/  [_ |  D  );
                      00005 ;       |   _/Y    _]l_j  l_jY    _]|    /     |   _/ |  | |   _/Y    _]|    / ;
                      00006 ;       |  |  |   [_   |  |  |   [_ |    \     |  |   |  | |  |  |   [_ |    \ ;
                      00007 ;       |  |  |     T  |  |  |     T|  .  Y    |  |   j  l |  |  |     T|  .  Y;
                      00008 ;       l__j  l_____j  l__j  l_____jl__j\_j    l__j  |____jl__j  l_____jl__j\_j;
                      00009 ;------------------------------------------------------------------------------;
                      00010 ;               AER201 Team 61 'Peter Piper' Pipe Inspector                    ;
                      00011 ;                        Author: Omar Abdeldayem                               ;
                      00012 ;                           Created: 1/12/2016                                 ;
                      00013 ;------------------------------------------------------------------------------;
                      00014 ; DESCRIPTION:                                                                                          
                                                               ;
                      00015 ; It does shit, yo.                                                                                     
                                                               ;
                      00016 ;******************************************************************************;
                      00017 ;******************************************************************************;
                      00018 ;******************************************************************************;
                      00019 
                      00020         List    p=16f877                    ; list directive to define processor
                      00021         #include        <p16f877.inc>       ; processor specific variable definitions
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Dec 08 2015
                      00005 ;  MPASM PIC16F877 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2015 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00541         LIST
2007   3F72           00022         __CONFIG _CP_OFF & _WDT_OFF & _BODEN_ON & _PWRTE_ON & _HS_OSC & _WRT_ENABLE_ON & _CPD_OFF & _LVP
                            _OFF
                      00023 
                      00024         #include        <rtc_macros.inc>
                      00001         ;External labels
  0000                00002         extern  write_rtc,read_rtc,rtc_convert,i2c_common_setup
                      00003 
                      00004 ;RTC Macros;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00005 
                      00006 rtc_resetAll    macro
                      00007 ;input:         none
                      00008 ;output:        none
                      00009 ;desc:          Resets all the time keeping registers on the RTC to zero
                      00010         banksel     0x74
                      00011         clrf        0x74
                      00012         banksel     0x73
                      00013         clrf        0x73
                      00014         call        write_rtc           ;Write 0 to Seconds
                      00015         banksel     0x73
                      00016         incf        0x73                        ;Set register address to 1
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00017         call        write_rtc
                      00018         banksel     0x73
                      00019         incf        0x73                        ;Set register address to 2
                      00020         call        write_rtc
                      00021         banksel     0x73
                      00022         incf        0x73                        ;Set register address to 3
                      00023         call        write_rtc
                      00024         banksel     0x73
                      00025         incf        0x73                        ;Set register address to 4
                      00026         call        write_rtc
                      00027         banksel     0x73
                      00028         incf        0x73                        ;Set register address to 5
                      00029         call        write_rtc
                      00030         banksel     0x73
                      00031         incf        0x73                        ;Set register address to 6
                      00032         call        write_rtc
                      00033         endm
                      00034 
                      00035 rtc_set macro       addliteral, datliteral
                      00036 ;input:         addliteral: value of address
                      00037 ;                       datliteral: value of data
                      00038 ;output:        none
                      00039 ;desc:          loads the data in datliteral into the 
                      00040 ;                       address specified by addliteral in the RTC
                      00041         banksel     0x73
                      00042         movlw       addliteral
                      00043         movwf       0x73
                      00044         banksel     0x74
                      00045         movlw       datliteral
                      00046         movwf       0x74        
                      00047         call        write_rtc
                      00048         endm
                      00049 
                      00050 rtc_read macro      addliteral
                      00051 ;input:         addliteral
                      00052 ;output:        0x75, 0x77, 0x78
                      00053 ;desc:          From the selected register in the RTC, read the data
                      00054 ;                       and load it into 0x75. 0x75 is also converted into 
                      00055 ;                       ASCII characters and the tens digit is placed into
                      00056 ;                       0x77 and the ones digit is placed in 0x78
                      00057         movlw       addliteral
                      00058         banksel     0x73
                      00059         movwf       0x73
                      00060         call        read_rtc
                      00061         banksel     0x75
                      00062         movf        0x75,w
                      00063         call        rtc_convert   
                      00064         endm
                      00025         #include        <lcd.inc>
  0000                00001     extern      InitLCD,WR_INS,WR_DATA,CLR_LCD
                      00026 ;******************************************************************************;
                      00027 ;                               BANK0 RAM                                      ;
                      00028 ;******************************************************************************;
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00029         CBLOCK      0x30
  00000030            00030         long_del    ; 0x30
  00000031            00031         temp_w      ; 0x31
  00000032            00032         temp_status ; 0x32
                      00033                     ; DIVISION Registers
  00000033            00034         DIV_HI      ; 0X33
  00000034            00035         DIV_LO      ; 0X34
  00000035            00036         DIVISOR     ; 0X35
  00000036            00037         Q           ; 0X36
  00000037            00038         d1
  00000038            00039         d2
  00000039            00040         d3          ; 0X39
                      00041                     ; ROBOT VARS
  0000003A            00042         start_min   ; 0X3A
  0000003B            00043         start_min10 ; 0X3B
  0000003C            00044         start_sec
  0000003D            00045         start_sec10
  0000003E            00046         stop_min
  0000003F            00047         stop_min10
  00000040            00048         stop_sec    ; 0X40
  00000041            00049         stop_sec10  ; 0x41
  00000042            00050         spot_detected
  00000043            00051         multiplex_count
  00000044            00052         rob_lat_distance
  00000045            00053         rob_long_distance_count ; 0X45
  00000046            00054         rob_long_distance       ; 0X46
  00000047            00055         measured_distance_lat
  00000048            00056         measured_distance_sup
  00000049            00057         rob_return
  0000004A            00058         spot_count  ; 0X4A
  0000004B            00059         num_spots
  0000004C            00060         spot_base_loc
                      00061         ENDC
                      00062 
                      00063 ;******************************************************************************;
                      00064 ;                               EQUATES                                        ;
                      00065 ;******************************************************************************;
                      00066         #define     crit_dist           0X0A
                      00067         #define     crit_dist_l         0x05
                      00068         #define     crit_dist_r         0x0A
                      00069         #define     MUX_IN              PORTA, 0
                      00070         #define     MUX_CTRL_0          PORTE, 0
                      00071         #define     MUX_CTRL_1          PORTE, 1
                      00072         #define     MUX_CTRL_2          PORTA, 2
                      00073         #define     MUX_CTRL_3          PORTA, 5
                      00074         #define     SERVO_CTRL          PORTC, 0
                      00075         #define     US_SUP_TRIG         PORTB, 3
                      00076         #define     US_SUP_ECHO         PORTB, 4
                      00077         ;#define            MUX_IN              PORTC, 0
                      00078         #define     MOTOR_DIR_CTRL      PORTC, 5
                      00079         #define     BUZZER              PORTC, 7
                      00080         #define     US_LAT_TRIG         PORTD, 0
                      00081         #define     US_LAT_ECHO         PORTD, 1
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00082         #define     L_MOTOR_SPD         B'11111001'
                      00083         #define     R_MOTOR_SPD         B'11111001'
                      00084 ;******************************************************************************;
                      00085 ;                               MACROS                                         ;
                      00086 ;******************************************************************************;
                      00087 WRT_LCD macro       val
                      00088         MOVLW       val
                      00089         CALL        WR_DATA
                      00090         endm
                      00091 LCD_INS macro       val
                      00092         MOVLW       val
                      00093         CALL        WR_INS
                      00094         endm
                      00095         
                      00096 WRT_MEM_LCD macro   val
                      00097         MOVFW       val
                      00098         CALL        WR_DATA
                      00099         endm
                      00100 
                      00101 CWRT_MEM_LCD macro   val
                      00102         MOVFW       val
                      00103         ADDLW       D'48'
                      00104         CALL        WR_DATA
                      00105         endm
                      00106 ;******************************************************************************;
                      00107 ;                          VECTOR TABLE                                        ;
                      00108 ;******************************************************************************;
                      00109         ORG         0x0000              ; RESET vector must always be at 0x00
0000   2???           00110         GOTO        INIT                ; Just jump to the main code section.
                      00111         ORG         0x0004
0004   2???           00112         GOTO        INT_HANDLER
                      00113 
                      00114 ;******************************************************************************;
                      00115 ;                         ROBOT INITIALIZATION                                 ;
                      00116 ;******************************************************************************;
0005                  00117 INIT
0005   1683           00118         BSF         STATUS, RP0         ; Select bank 1
0006   018B           00119         CLRF        INTCON              ; Disable interrupts for now
                      00120         
                      00121         ;MOVLW      0x06                ; Turn PORT A to digital
                      00122         ;MOVWF      ADCON1
0007   300E           00123         movlw       b'00001110'         ; All digital except A0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0008   009F           00124         movwf       ADCON1
                      00125         
0009   3011           00126         MOVLW       b'00010001'         ; PORT A pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000A   0085           00127         MOVWF       TRISA
000B   30F3           00128         MOVLW       b'11110011'         ; PORT B pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000C   0086           00129         MOVWF       TRISB
000D   3018           00130         MOVLW       b'00011000'         ; PORT C pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000E   0087           00131         MOVWF       TRISC
000F   3002           00132         MOVLW       B'00000010'         ; PORT D pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0010   0088           00133         MOVWF       TRISD               
0011   3000           00134         MOVLW       b'00000000'         ; PORT E pin mapping
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0012   0089           00135         MOVWF       TRISE
                      00136         
0013   30FF           00137         MOVLW       B'11111111'         ; PWM pulsing period (484Hz)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0014   0092           00138         MOVWF       PR2
                      00139        
0015   1283           00140         BCF         STATUS, RP0         ; select bank 0
                      00141                 
0016   30F9           00142         MOVLW       L_MOTOR_SPD         ; 100% DUTY CYCLE
0017   0095           00143         MOVWF       CCPR1L              
0018   30F9           00144         MOVLW       R_MOTOR_SPD         ; '01100100' 100% DUTY CYCLE
0019   009B           00145         MOVWF       CCPR2L
001A   30FF           00146         MOVLW       B'11111111'
001B   0097           00147         MOVWF       CCP1CON
001C   30FF           00148         MOVLW       B'11111111'
001D   009D           00149         MOVWF       CCP2CON
                      00150         
001E   3005           00151         MOVLW       B'00000101'         ; Initialize and hold timer 2
001F   0092           00152         MOVWF       T2CON
0020   0191           00153         CLRF        TMR2
0021   1112           00154         BCF         T2CON, TMR2ON
                      00155         
0022   3010           00156         MOVLW       0X10                ; TMR1 for Ultrasonic Sensors
0023   0090           00157         MOVWF       T1CON
0024   018F           00158         CLRF        TMR1H
0025   018E           00159         CLRF        TMR1L
                      00160         
                      00161         ;CALL       i2c_common_setup
0026   2???           00162         CALL        InitLCD
                      00163         
0027   0185           00164         CLRF        PORTA
0028   0186           00165         CLRF        PORTB
0029   0187           00166         CLRF        PORTC
002A   0188           00167         CLRF        PORTD
002B   0189           00168         CLRF        PORTE
                      00169         
002C   01CB           00170         CLRF        num_spots
002D   01CA           00171         CLRF        spot_count
002E   01C2           00172         CLRF        spot_detected
002F   01C7           00173         CLRF        measured_distance_lat
0030   1387           00174         BCF         BUZZER
                      00175         
0031   2???           00176         CALL        START_MSG
                      00177 ;******************************************************************************;
                      00178 ;                        ROBOT START AND STANDBY                               ;
                      00179 ;******************************************************************************;
0032                  00180 START_STDBY
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0032   1C86           00181         BTFSS       PORTB, 1            ; Wait until data is available from the keypad
0033   2???           00182         GOTO        START_STDBY
                      00183 
0034   0E06           00184         SWAPF       PORTB, W            ; Read PortB<7:4> into W<3:0>
0035   390F           00185         ANDLW       0x0F
0036   2???           00186         CALL        CLR_LCD
                      00187 
0037   1886           00188         BTFSC       PORTB,1             ; Wait until key is released
0038   2???           00189         GOTO        $-1
                      00190 
0039   2???           00191         CALL        CLR_LCD
003A   2???           00192         CALL        DEL_1S
003B   2???           00193         CALL        DEL_1S
003C   1287           00194         BCF         MOTOR_DIR_CTRL
003D   1512           00195         BSF         T2CON, TMR2ON
                      00196         
                      00197         ;CALL       SET_RTC_TIME
                      00198         ;CALL       GET_START_TIME
003E   2???           00199         GOTO        CALIBRATE
                      00200         ;GOTO       SCAN
                      00201 
                      00202 ;******************************************************************************;
                      00203 ;                           SENSOR CALIBRATION                                 ;
                      00204 ;******************************************************************************;
003F                  00205 CALIBRATE
003F   2???           00206         CALL        DEL_10MS
0040   2???           00207         CALL        DEL_10MS
0041   2???           00208         CALL        DEL_10MS
0042   2???           00209         CALL        DEL_10MS
0043   2???           00210         CALL        DEL_10MS
0044   2???           00211         CALL        USONIC_LAT
0045   300A           00212         MOVLW       crit_dist
0046   0247           00213         SUBWF       measured_distance_lat, W
0047   1803           00214         BTFSC       STATUS, 0
0048   2???           00215         GOTO        CALIBRATE
0049   1787           00216         BSF         BUZZER
004A   2???           00217         CALL        DEL_10MS
004B   2???           00218         CALL        DEL_10MS
004C   1008           00219         BCF         US_LAT_TRIG
004D   1088           00220         BCF         US_LAT_ECHO
004E   01C7           00221         CLRF        measured_distance_lat
004F   01B6           00222         CLRF        Q
0050   158B           00223         BSF         INTCON, RBIE            ; Enable interrupts
0051   160B           00224         BSF         INTCON, INTE
0052   178B           00225         BSF         INTCON, GIE
0053   1387           00226         BCF         BUZZER
0054   304C           00227         MOVLW       spot_base_loc
0055   0084           00228         MOVWF       FSR
0056   2???           00229         GOTO        SCAN
                      00230         
                      00231 ;******************************************************************************;
                      00232 ;                         PIPE SCAN SUPERLOOP                                  ;
                      00233 ;******************************************************************************;
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0057                  00234 SCAN
                      00235 ;       CALL        DEL_10MS
                      00236 ;       CALL        DEL_10MS
                      00237 ;       CALL        DEL_10MS
                      00238 ;       CALL        DEL_10MS
                      00239 ;       CALL        DEL_10MS
                      00240 ;       CALL        USONIC_LAT
                      00241 ;       CALL        MOTOR_CTRL_R
                      00242 ;       CALL        MOTOR_CTRL_L
                      00243 ;       CALL        DEL_10MS
                      00244 ;       CALL        DEL_10MS
                      00245 ;       CALL        DEL_10MS
                      00246 ;       CALL        DEL_10MS
0057   2???           00247         CALL        USONIC_LAT
                      00248 ;       MOVLW       crit_dist
                      00249 ;       SUBWF       measured_distance_lat, W
                      00250 ;       BTFSS       STATUS, 0
                      00251 ;       GOTO        RETURN_HOME
                      00252 ;;      CALL        SHOW_RTC                ; DEBUG
0058   2???           00253         CALL        READ_IRS
                      00254         
0059   2???           00255         GOTO        SCAN
                      00256 
                      00257 ;******************************************************************************;
                      00258 ;                           RETURN HOME ROUTINE                                ;
                      00259 ;******************************************************************************;
005A                  00260 RETURN_HOME
005A   2???           00261         CALL        DEL_10MS
005B   2???           00262         CALL        DEL_10MS
005C   2???           00263         CALL        DEL_10MS
005D   2???           00264         CALL        DEL_10MS
005E   2???           00265         CALL        DEL_10MS
005F   1787           00266         BSF         BUZZER 
0060   018B           00267         CLRF        INTCON
0061   1687           00268         BSF         MOTOR_DIR_CTRL
0062   2???           00269         CALL        USONIC_LAT
0063   300A           00270         MOVLW       crit_dist
0064   0247           00271         SUBWF       measured_distance_lat, W
0065   1803           00272         BTFSC       STATUS, 0
0066   2???           00273         GOTO        RETURN_HOME
0067   1387           00274         BCF         BUZZER
0068   2???           00275         GOTO        FINAL_BACKUP
                      00276 
0069                  00277 FINAL_BACKUP
0069   2???           00278         CALL        DEL_1S
006A   2???           00279         GOTO        STOP_STDBY
                      00280         
                      00281 ;******************************************************************************;
                      00282 ;                             STOP STANDBY                                     ;
                      00283 ;******************************************************************************;
006B                  00284 STOP_STDBY
006B   1112           00285         BCF         T2CON, TMR2ON       ; Turn off motors
006C   0197           00286         CLRF        CCP1CON
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

006D   019D           00287         CLRF        CCP2CON
006E   0195           00288         CLRF        CCPR1L
006F   019B           00289         CLRF        CCPR2L
                      00290 
                      00291         ;CALL       GET_STOP_TIME       ; Get stop time
0070   2???           00292         CALL        STOP_STDBY_MSG      ; Display standby message
0071   1C86           00293         BTFSS       PORTB, 1            ; Wait until data is available from the keypad
0072   2???           00294         GOTO        $-1
0073   0E06           00295         SWAPF       PORTB, W            ; Read PortB<7:4> into W<3:0>
0074   390F           00296         ANDLW       0x0F 
0075   2???           00297         CALL        CLR_LCD
0076   2???           00298         GOTO        STOP_DATA           ; Display run data
                      00299 
                      00300 ;******************************************************************************;
                      00301 ;                          INTERRUPT HANDLER                                   ;
                      00302 ;******************************************************************************;
0077                  00303 INT_HANDLER
0077   00B1           00304         MOVWF       temp_w
0078   0E03           00305         SWAPF       STATUS, W
0079   00B2           00306         MOVWF       temp_status
007A   100B           00307         BCF         INTCON, RBIF
007B   108B           00308         BCF         INTCON, INTF          ; Clear the interrupt flag
                      00309         
007C   2???           00310         CALL        WHL_ENC
                      00311         
007D   0E32           00312         SWAPF       temp_status, W
007E   0083           00313         MOVWF       STATUS
007F   0EB1           00314         SWAPF       temp_w, F
0080   0E31           00315         SWAPF       temp_w, W
0081   0009           00316         RETFIE
                      00317 
                      00318 ;******************************************************************************;
                      00319 ;                       CYCLE INFRARED SENSORS                                 ;
                      00320 ;******************************************************************************;
0082                  00321 READ_IRS
0082   3010           00322         MOVLW       d'16'
0083   00C3           00323         MOVWF       multiplex_count
0084                  00324 MX_LOOP 
                      00325         ;       DECF        multiplex_count
                      00326 ;       BCF         MUX_CTRL_0
                      00327 ;       BTFSC       multiplex_count, 0
                      00328 ;       BSF         MUX_CTRL_0
                      00329 ;       BCF         MUX_CTRL_1
                      00330 ;       BTFSC       multiplex_count, 1
                      00331 ;       BSF         MUX_CTRL_1
                      00332 ;       BCF         MUX_CTRL_2
                      00333 ;       BTFSC       multiplex_count, 2
                      00334 ;       BSF         MUX_CTRL_2
                      00335 ;       BCF         MUX_CTRL_3
                      00336 ;       BTFSC       multiplex_count, 3
                      00337 ;       BSF         MUX_CTRL_3
                      00338         
0084   1409           00339         BSF         MUX_CTRL_0
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0085   1089           00340         BCF         MUX_CTRL_1
0086   1505           00341         BSF         MUX_CTRL_2
0087   1685           00342         BSF         MUX_CTRL_3
                      00343 
0088   30C1           00344         movlw       b'11000001' ; AD at RA0
0089   009F           00345         movwf       ADCON0
008A   2???           00346         CALL        DEL_20US
008B   2???           00347         CALL        DEL_20US
008C   2???           00348         CALL        DEL_20US
008D   2???           00349         CALL        DEL_20US
008E   2???           00350         CALL        DEL_20US
008F   151F           00351         bsf         ADCON0,2
0090   191F           00352         btfsc       ADCON0,2
0091   2???           00353         goto        $-1
                      00354         
                      00355 ;       BSF         ADCON0, 2           ;start conversion and wait for it to complete
                      00356 ;       BTFSC       ADCON0, 2
                      00357 ;       GOTO        $-2
                      00358 
0092   081E           00359         MOVFW       ADRESH 
0093   3CC8           00360         SUBLW       D'200'
0094   1C03           00361         BTFSS       STATUS, 0
0095   2???           00362         GOTO        MX_LOOP
0096   1787           00363         BSF         BUZZER
0097   2???           00364         CALL        DEL_1S
0098   1387           00365         BCF         BUZZER
                      00366         
                      00367 ;       
                      00368 ;       BTFSC       MUX_IN
                      00369 ;       RETURN
                      00370 ;       GOTO        MX_LOOP;NO_SPOT 
                      00371 ;       BSF         BUZZER                              ; Buzzer start
                      00372 ;       CALL        DEL_1S
                      00373 ;       MOVFW       rob_long_distance                   ; Save spot location
                      00374 ;       MOVWF       INDF
                      00375 ;       INCF        num_spots, f                        ; Increase number of spots
                      00376 ;       INCF        FSR, F
                      00377 ;       BCF         BUZZER                              ; Buzzer stop
                      00378 ;;NO_SPOT       INCF        multiplex_count
                      00379 ;;      DECFSZ      multiplex_count
                      00380 ;       GOTO        MX_LOOP
0099   0008           00381         RETURN  
                      00382 ;******************************************************************************;
                      00383 ;                         WHEEL ENCODER ROUTINE                                ;
                      00384 ;******************************************************************************;
009A                  00385 WHL_ENC
Message[305]: Using default destination of 1 (file).
009A   0AC5           00386         INCF        rob_long_distance_count ; Increment number of changes
009B   3006           00387         MOVLW       0x06                    ; Every six changes is approx 1in
009C   02C5           00388         SUBWF       rob_long_distance_count, F
009D   1D03           00389         BTFSS       STATUS, 2
Message[305]: Using default destination of 1 (file).
009E   0AC6           00390         INCF        rob_long_distance       ; One inch was covered
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

009F   01C5           00391         CLRF        rob_long_distance_count
00A0   0008           00392         RETURN
                      00393         
                      00394 ;******************************************************************************;
                      00395 ;                     ULTRASONIC SENSOR SUBROUTINES                            ;
                      00396 ;******************************************************************************;
00A1                  00397 USONIC_LAT
00A1   1408           00398         BSF         US_LAT_TRIG
00A2   2???           00399         CALL        DEL_20US
00A3   1008           00400         BCF         US_LAT_TRIG
00A4                  00401 USONIC_LAT_ECHO
00A4   1C88           00402         BTFSS       US_LAT_ECHO
00A5   2???           00403         GOTO        $-1
00A6   1410           00404         BSF         T1CON, 0
00A7   1888           00405 USHOLDL BTFSC       US_LAT_ECHO
00A8   2???           00406         GOTO        USHOLDL
00A9   1010           00407         BCF         T1CON, 0
00AA   080F           00408         MOVF        TMR1H, W
00AB   00B3           00409         MOVWF       DIV_HI
00AC   080E           00410         MOVF        TMR1L, W
00AD   00B4           00411         MOVWF       DIV_LO
00AE   018F           00412         CLRF        TMR1H
00AF   018E           00413         CLRF        TMR1L
00B0   303A           00414         MOVLW       d'58'
00B1   00B5           00415         MOVWF       DIVISOR
00B2   2???           00416         CALL        DIV16X8
00B3   0836           00417         MOVF        Q, W
00B4   00C7           00418         MOVWF       measured_distance_lat
                      00419 ;       CALL        rtc_convert
                      00420 ;       CALL        CLR_LCD             ; DEBUG!
                      00421 ;       WRT_MEM_LCD 0x77
                      00422 ;       WRT_MEM_LCD 0x78
00B5   0008           00423         RETURN
                      00424         
                      00425 ;******************************************************************************;
                      00426 ;                              ACTIVE CONTROL                                  ;
                      00427 ;******************************************************************************;
00B6                  00428 MOTOR_CTRL_R                                ; Turn right - robot is too close
00B6   3005           00429         MOVLW       crit_dist_l
00B7   0247           00430         SUBWF       measured_distance_lat, W
00B8   1C03           00431         BTFSs       STATUS, 0               ; C==0 if measured_distance_lat < crit_dist
00B9   0008           00432         RETURN
00BA   1A87           00433         BTFSC       MOTOR_DIR_CTRL
00BB   2???           00434         GOTO        STOP_L
00BC                  00435 STOP_R  ;BCF        T2CON, TMR2ON
00BC   019D           00436         CLRF        CCP2CON
                      00437         ;CLRF       CCPR1L
00BD   2???           00438         CALL        DEL_10MS
00BE   2???           00439         CALL        DEL_10MS
00BF   30F9           00440         MOVLW       R_MOTOR_SPD
00C0   009D           00441         MOVWF       CCP2CON
                      00442         ;BSF        T2CON, TMR2ON
00C1   0008           00443         RETURN
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00444 
00C2                  00445 MOTOR_CTRL_L                                ; Turn left - robot is too far
00C2   300A           00446         MOVLW       crit_dist_r
00C3   0247           00447         SUBWF       measured_distance_lat, W
00C4   1803           00448         BTFSc       STATUS, 0               ; C==0 if measured_distance_lat >= crit_dist
00C5   0008           00449         RETURN
00C6   1A87           00450         BTFSC       MOTOR_DIR_CTRL
00C7   2???           00451         GOTO        STOP_R
00C8                  00452 STOP_L  ;BCF        T2CON, TMR2ON
00C8   0197           00453         CLRF        CCP1CON
                      00454         ;CLRF       CCPR2L
00C9   2???           00455         CALL        DEL_10MS
00CA   2???           00456         CALL        DEL_10MS
00CB   30F9           00457         MOVLW       L_MOTOR_SPD
00CC   0097           00458         MOVWF       CCP1CON
                      00459         ;BSF        T2CON, TMR2ON
00CD   0008           00460         RETURN
                      00461         
                      00462 ;******************************************************************************;
                      00463 ;                               DISPLAY DATA                                   ;
                      00464 ;******************************************************************************;
00CE                  00465 STOP_DATA
                      00466         WRT_LCD     "T"
00CE   3054               M         MOVLW       "T"
00CF   2???               M         CALL        WR_DATA
                      00467         WRT_LCD     "I"
00D0   3049               M         MOVLW       "I"
00D1   2???               M         CALL        WR_DATA
                      00468         WRT_LCD     "M"
00D2   304D               M         MOVLW       "M"
00D3   2???               M         CALL        WR_DATA
                      00469         WRT_LCD     "E"
00D4   3045               M         MOVLW       "E"
00D5   2???               M         CALL        WR_DATA
                      00470         WRT_LCD     ":"
00D6   303A               M         MOVLW       ":"
00D7   2???               M         CALL        WR_DATA
                      00471         WRT_LCD     " "
00D8   3020               M         MOVLW       " "
00D9   2???               M         CALL        WR_DATA
                      00472         ;Get minute             
                      00473 ;       rtc_read    0x01                ;Read Address 0x01 from DS1307---min
                      00474         ;WRT_MEM_LCD 0x77
                      00475 ;       .WRT_MEM_LCD 0x78
                      00476 ;       WRT_LCD     ":"
                      00477 
                      00478         ;Get seconds
                      00479         ;rtc_read    0x00               ;Read Address 0x00 from DS1307---seconds
                      00480 ;       WRT_MEM_LCD 0x77
                      00481 ;       WRT_MEM_LCD 0x78
                      00482 
00DA   30C0           00483         movlw       B'11000000'         ;Next line displays (min):(sec) **:**
00DB   2???           00484         call        WR_INS
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00DC   2???           00485         CALL        WRT_DATA
00DD   2???           00486         CALL        DEL_1S
00DE   2???           00487         CALL        DEL_1S
00DF   2???           00488         CALL        CLR_LCD
                      00489         
00E0   304C           00490         MOVLW       spot_base_loc
00E1   0084           00491         MOVWF       FSR
                      00492         
00E2                  00493 DATA_LOOP       
                      00494         WRT_LCD     "S"
00E2   3053               M         MOVLW       "S"
00E3   2???               M         CALL        WR_DATA
                      00495         WRT_LCD     "P"
00E4   3050               M         MOVLW       "P"
00E5   2???               M         CALL        WR_DATA
                      00496         WRT_LCD     "O"
00E6   304F               M         MOVLW       "O"
00E7   2???               M         CALL        WR_DATA
                      00497         WRT_LCD     "T"
00E8   3054               M         MOVLW       "T"
00E9   2???               M         CALL        WR_DATA
                      00498         WRT_LCD     ":"
00EA   303A               M         MOVLW       ":"
00EB   2???               M         CALL        WR_DATA
                      00499         WRT_LCD     " "
00EC   3020               M         MOVLW       " "
00ED   2???               M         CALL        WR_DATA
                      00500         WRT_MEM_LCD INDF
00EE   0800               M         MOVFW       INDF
00EF   2???               M         CALL        WR_DATA
                      00501         WRT_LCD     "c"
00F0   3063               M         MOVLW       "c"
00F1   2???               M         CALL        WR_DATA
                      00502         WRT_LCD     "m"
00F2   306D               M         MOVLW       "m"
00F3   2???               M         CALL        WR_DATA
                      00503         
00F4   2???           00504         CALL        DEL_1S
                      00505         
00F5   2???           00506         CALL        CLR_LCD
00F6   0A84           00507         INCF        FSR, F
                      00508 
00F7   0BCA           00509         DECFSZ      spot_count, F
00F8   2???           00510         GOTO        DATA_LOOP
                      00511         
                      00512         WRT_LCD     "E"
00F9   3045               M         MOVLW       "E"
00FA   2???               M         CALL        WR_DATA
                      00513         WRT_LCD     "N"
00FB   304E               M         MOVLW       "N"
00FC   2???               M         CALL        WR_DATA
                      00514         WRT_LCD     "D"
00FD   3044               M         MOVLW       "D"
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00FE   2???               M         CALL        WR_DATA
                      00515 
00FF   2???           00516         GOTO        FINISH
                      00517 
                      00518 ;******************************************************************************;
                      00519 ;                                  HELLO                                       ;
                      00520 ;******************************************************************************;
0100                  00521 START_MSG
                      00522         WRT_LCD     "H"
0100   3048               M         MOVLW       "H"
0101   2???               M         CALL        WR_DATA
                      00523         WRT_LCD     "I"
0102   3049               M         MOVLW       "I"
0103   2???               M         CALL        WR_DATA
                      00524         WRT_LCD     "T"
0104   3054               M         MOVLW       "T"
0105   2???               M         CALL        WR_DATA
                      00525         WRT_LCD     " "
0106   3020               M         MOVLW       " "
0107   2???               M         CALL        WR_DATA
                      00526         WRT_LCD     "*"
0108   302A               M         MOVLW       "*"
0109   2???               M         CALL        WR_DATA
                      00527         WRT_LCD     " "
010A   3020               M         MOVLW       " "
010B   2???               M         CALL        WR_DATA
                      00528         WRT_LCD     "T"
010C   3054               M         MOVLW       "T"
010D   2???               M         CALL        WR_DATA
                      00529         WRT_LCD     "O"
010E   304F               M         MOVLW       "O"
010F   2???               M         CALL        WR_DATA
                      00530         WRT_LCD     " "
0110   3020               M         MOVLW       " "
0111   2???               M         CALL        WR_DATA
                      00531         WRT_LCD     "S"
0112   3053               M         MOVLW       "S"
0113   2???               M         CALL        WR_DATA
                      00532         WRT_LCD     "T"
0114   3054               M         MOVLW       "T"
0115   2???               M         CALL        WR_DATA
                      00533         WRT_LCD     "A"
0116   3041               M         MOVLW       "A"
0117   2???               M         CALL        WR_DATA
                      00534         WRT_LCD     "R"
0118   3052               M         MOVLW       "R"
0119   2???               M         CALL        WR_DATA
                      00535         WRT_LCD     "T"
011A   3054               M         MOVLW       "T"
011B   2???               M         CALL        WR_DATA
011C   0008           00536         RETURN
                      00537         
                      00538 ;******************************************************************************;
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00539 ;                                GOODBYE                                       ;
                      00540 ;******************************************************************************;
011D                  00541 STOP_STDBY_MSG
                      00542         WRT_LCD     "H"
011D   3048               M         MOVLW       "H"
011E   2???               M         CALL        WR_DATA
                      00543         WRT_LCD     "I"
011F   3049               M         MOVLW       "I"
0120   2???               M         CALL        WR_DATA
                      00544         WRT_LCD     "T"
0121   3054               M         MOVLW       "T"
0122   2???               M         CALL        WR_DATA
                      00545         WRT_LCD     " "
0123   3020               M         MOVLW       " "
0124   2???               M         CALL        WR_DATA
                      00546         WRT_LCD     "*"
0125   302A               M         MOVLW       "*"
0126   2???               M         CALL        WR_DATA
                      00547         WRT_LCD     " "
0127   3020               M         MOVLW       " "
0128   2???               M         CALL        WR_DATA
                      00548         WRT_LCD     "F"
0129   3046               M         MOVLW       "F"
012A   2???               M         CALL        WR_DATA
                      00549         WRT_LCD     "O"
012B   304F               M         MOVLW       "O"
012C   2???               M         CALL        WR_DATA
                      00550         WRT_LCD     "R"
012D   3052               M         MOVLW       "R"
012E   2???               M         CALL        WR_DATA
                      00551         WRT_LCD     " "
012F   3020               M         MOVLW       " "
0130   2???               M         CALL        WR_DATA
                      00552         WRT_LCD     "D"
0131   3044               M         MOVLW       "D"
0132   2???               M         CALL        WR_DATA
                      00553         WRT_LCD     "A"
0133   3041               M         MOVLW       "A"
0134   2???               M         CALL        WR_DATA
                      00554         WRT_LCD     "T"
0135   3054               M         MOVLW       "T"
0136   2???               M         CALL        WR_DATA
                      00555         WRT_LCD     "A"
0137   3041               M         MOVLW       "A"
0138   2???               M         CALL        WR_DATA
0139   0008           00556         RETURN
                      00557          
                      00558 ;******************************************************************************;
                      00559 ;                                 DATA                                         ;
                      00560 ;******************************************************************************;
013A                  00561 WRT_DATA        
                      00562         WRT_LCD     "N"
013A   304E               M         MOVLW       "N"
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

013B   2???               M         CALL        WR_DATA
                      00563         WRT_LCD     "U"
013C   3055               M         MOVLW       "U"
013D   2???               M         CALL        WR_DATA
                      00564         WRT_LCD     "M"
013E   304D               M         MOVLW       "M"
013F   2???               M         CALL        WR_DATA
                      00565         WRT_LCD     " "
0140   3020               M         MOVLW       " "
0141   2???               M         CALL        WR_DATA
                      00566         WRT_LCD     "S"
0142   3053               M         MOVLW       "S"
0143   2???               M         CALL        WR_DATA
                      00567         WRT_LCD     "P"
0144   3050               M         MOVLW       "P"
0145   2???               M         CALL        WR_DATA
                      00568         WRT_LCD     "O"
0146   304F               M         MOVLW       "O"
0147   2???               M         CALL        WR_DATA
                      00569         WRT_LCD     "T"
0148   3054               M         MOVLW       "T"
0149   2???               M         CALL        WR_DATA
                      00570         WRT_LCD     "S"
014A   3053               M         MOVLW       "S"
014B   2???               M         CALL        WR_DATA
                      00571         WRT_LCD     ":"
014C   303A               M         MOVLW       ":"
014D   2???               M         CALL        WR_DATA
                      00572         WRT_LCD     " "
014E   3020               M         MOVLW       " "
014F   2???               M         CALL        WR_DATA
                      00573         CWRT_MEM_LCD num_spots
0150   084B               M         MOVFW       num_spots
0151   3E30               M         ADDLW       D'48'
0152   2???               M         CALL        WR_DATA
0153   0008           00574         RETURN
                      00575 ;******************************************************************************;
                      00576 ;                           RETREIVE START TIME                                ;
                      00577 ;******************************************************************************;
0154                  00578 GET_START_TIME
                      00579         ;Get minute             
                      00580         rtc_read    0x01                ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
0154   3001               M         movlw       0x01
0155   1283 1303          M         banksel     0x73
0157   00F3               M         movwf       0x73
0158   2???               M         call        read_rtc
0159   1283 1303          M         banksel     0x75
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

015B   0875               M         movf        0x75,w
015C   2???               M         call        rtc_convert   
015D   0877           00581         MOVFW       0X77
015E   00BB           00582         MOVWF       start_min10
015F   0878           00583         MOVFW       0X78
0160   00BA           00584         MOVWF       start_min
                      00585 
                      00586         ;Get seconds
                      00587         rtc_read    0x00                ;Read Address 0x00 from DS1307---seconds
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
0161   3000               M         movlw       0x00
0162   1283 1303          M         banksel     0x73
0164   00F3               M         movwf       0x73
0165   2???               M         call        read_rtc
0166   1283 1303          M         banksel     0x75
0168   0875               M         movf        0x75,w
0169   2???               M         call        rtc_convert   
016A   0877           00588         MOVFW       0X77
016B   00BD           00589         MOVWF       start_sec10
016C   0878           00590         MOVFW       0X78
016D   00BC           00591         MOVWF       start_sec
016E   0008           00592         RETURN
                      00593 ;******************************************************************************;
                      00594 ;                           RETREIVE STOP TIME                                 ;
                      00595 ;******************************************************************************;
016F                  00596 GET_STOP_TIME
                      00597         ;Get minute             
                      00598         rtc_read    0x01                ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
016F   3001               M         movlw       0x01
0170   1283 1303          M         banksel     0x73
0172   00F3               M         movwf       0x73
0173   2???               M         call        read_rtc
0174   1283 1303          M         banksel     0x75
0176   0875               M         movf        0x75,w
0177   2???               M         call        rtc_convert   
0178   0877           00599         MOVFW       0X77
0179   00BF           00600         MOVWF       stop_min10
017A   0878           00601         MOVFW       0X78
017B   00BE           00602         MOVWF       stop_min
                      00603 
                      00604         ;Get seconds
                      00605         rtc_read    0x00                ;Read Address 0x00 from DS1307---seconds
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
017C   3000               M         movlw       0x00
017D   1283 1303          M         banksel     0x73
017F   00F3               M         movwf       0x73
0180   2???               M         call        read_rtc
0181   1283 1303          M         banksel     0x75
0183   0875               M         movf        0x75,w
0184   2???               M         call        rtc_convert   
0185   0877           00606         MOVFW       0X77
0186   00C1           00607         MOVWF       stop_sec10
0187   0878           00608         MOVFW       0X78
0188   00C0           00609         MOVWF       stop_sec
0189   0008           00610         RETURN
                      00611 ;******************************************************************************;
                      00612 ;                       DISPLAY RTC TIME TO LCD                                ;
                      00613 ;******************************************************************************;
018A                  00614 SHOW_RTC
                      00615         ;clear LCD screen
018A   3001           00616         movlw       b'00000001'
018B   2???           00617         call        WR_INS
                      00618 
                      00619         ;Get year
                      00620         WRT_LCD     "2"
018C   3032               M         MOVLW       "2"
018D   2???               M         CALL        WR_DATA
                      00621         WRT_LCD     "0"
018E   3030               M         MOVLW       "0"
018F   2???               M         CALL        WR_DATA
                      00622         rtc_read    0x06                ;Read Address 0x06 from DS1307---year
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
0190   3006               M         movlw       0x06
0191   1283 1303          M         banksel     0x73
0193   00F3               M         movwf       0x73
0194   2???               M         call        read_rtc
0195   1283 1303          M         banksel     0x75
0197   0875               M         movf        0x75,w
0198   2???               M         call        rtc_convert   
                      00623         WRT_MEM_LCD 0x77
0199   0877               M         MOVFW       0x77
019A   2???               M         CALL        WR_DATA
                      00624         WRT_MEM_LCD 0x78
019B   0878               M         MOVFW       0x78
019C   2???               M         CALL        WR_DATA
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00625 
                      00626         WRT_LCD     "/"
019D   302F               M         MOVLW       "/"
019E   2???               M         CALL        WR_DATA
                      00627 
                      00628         ;Get month
                      00629         rtc_read    0x05                ;Read Address 0x05 from DS1307---month
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
019F   3005               M         movlw       0x05
01A0   1283 1303          M         banksel     0x73
01A2   00F3               M         movwf       0x73
01A3   2???               M         call        read_rtc
01A4   1283 1303          M         banksel     0x75
01A6   0875               M         movf        0x75,w
01A7   2???               M         call        rtc_convert   
                      00630         WRT_MEM_LCD 0x77
01A8   0877               M         MOVFW       0x77
01A9   2???               M         CALL        WR_DATA
                      00631         WRT_MEM_LCD 0x78
01AA   0878               M         MOVFW       0x78
01AB   2???               M         CALL        WR_DATA
                      00632 
                      00633         WRT_LCD     "/"
01AC   302F               M         MOVLW       "/"
01AD   2???               M         CALL        WR_DATA
                      00634 
                      00635         ;Get day
                      00636         rtc_read    0x04                ;Read Address 0x04 from DS1307---day
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
01AE   3004               M         movlw       0x04
01AF   1283 1303          M         banksel     0x73
01B1   00F3               M         movwf       0x73
01B2   2???               M         call        read_rtc
01B3   1283 1303          M         banksel     0x75
01B5   0875               M         movf        0x75,w
01B6   2???               M         call        rtc_convert   
                      00637         WRT_MEM_LCD 0x77
01B7   0877               M         MOVFW       0x77
01B8   2???               M         CALL        WR_DATA
                      00638         WRT_MEM_LCD 0x78
01B9   0878               M         MOVFW       0x78
01BA   2???               M         CALL        WR_DATA
                      00639 
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01BB   30C0           00640         movlw       B'11000000'         ;Next line displays (hour):(min):(sec) **:**:**
01BC   2???           00641         call        WR_INS
                      00642         ;Get hour
                      00643         rtc_read    0x02                ;Read Address 0x02 from DS1307---hour
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
01BD   3002               M         movlw       0x02
01BE   1283 1303          M         banksel     0x73
01C0   00F3               M         movwf       0x73
01C1   2???               M         call        read_rtc
01C2   1283 1303          M         banksel     0x75
01C4   0875               M         movf        0x75,w
01C5   2???               M         call        rtc_convert   
                      00644         WRT_MEM_LCD 0x77
01C6   0877               M         MOVFW       0x77
01C7   2???               M         CALL        WR_DATA
                      00645         WRT_MEM_LCD 0x78
01C8   0878               M         MOVFW       0x78
01C9   2???               M         CALL        WR_DATA
                      00646         WRT_LCD     ":"
01CA   303A               M         MOVLW       ":"
01CB   2???               M         CALL        WR_DATA
                      00647 
                      00648         ;Get minute             
                      00649         rtc_read    0x01                ;Read Address 0x01 from DS1307---min
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
01CC   3001               M         movlw       0x01
01CD   1283 1303          M         banksel     0x73
01CF   00F3               M         movwf       0x73
01D0   2???               M         call        read_rtc
01D1   1283 1303          M         banksel     0x75
01D3   0875               M         movf        0x75,w
01D4   2???               M         call        rtc_convert   
                      00650         WRT_MEM_LCD 0x77
01D5   0877               M         MOVFW       0x77
01D6   2???               M         CALL        WR_DATA
                      00651         WRT_MEM_LCD 0x78
01D7   0878               M         MOVFW       0x78
01D8   2???               M         CALL        WR_DATA
                      00652         WRT_LCD     ":"
01D9   303A               M         MOVLW       ":"
01DA   2???               M         CALL        WR_DATA
                      00653 
                      00654         ;Get seconds
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00655         rtc_read    0x00                ;Read Address 0x00 from DS1307---seconds
                          M ;input:         addliteral
                          M ;output:        0x75, 0x77, 0x78
                          M ;desc:          From the selected register in the RTC, read the data
                          M ;                       and load it into 0x75. 0x75 is also converted into 
                          M ;                       ASCII characters and the tens digit is placed into
                          M ;                       0x77 and the ones digit is placed in 0x78
01DB   3000               M         movlw       0x00
01DC   1283 1303          M         banksel     0x73
01DE   00F3               M         movwf       0x73
01DF   2???               M         call        read_rtc
01E0   1283 1303          M         banksel     0x75
01E2   0875               M         movf        0x75,w
01E3   2???               M         call        rtc_convert   
                      00656         WRT_MEM_LCD 0x77
01E4   0877               M         MOVFW       0x77
01E5   2???               M         CALL        WR_DATA
                      00657         WRT_MEM_LCD 0x78
01E6   0878               M         MOVFW       0x78
01E7   2???               M         CALL        WR_DATA
                      00658 
01E8   0008           00659         RETURN
                      00660 ;******************************************************************************;
                      00661 ;                       INITIALIZE RTC TIME                                    ;
                      00662 ;******************************************************************************;                
01E9                  00663 SET_RTC_TIME
                      00664         rtc_resetAll    ;reset rtc
                          M ;input:         none
                          M ;output:        none
                          M ;desc:          Resets all the time keeping registers on the RTC to zero
01E9   1283 1303          M         banksel     0x74
01EB   01F4               M         clrf        0x74
01EC   1283 1303          M         banksel     0x73
01EE   01F3               M         clrf        0x73
01EF   2???               M         call        write_rtc           ;Write 0 to Seconds
01F0   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01F2   0AF3               M         incf        0x73                        ;Set register address to 1
01F3   2???               M         call        write_rtc
01F4   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01F6   0AF3               M         incf        0x73                        ;Set register address to 2
01F7   2???               M         call        write_rtc
01F8   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01FA   0AF3               M         incf        0x73                        ;Set register address to 3
01FB   2???               M         call        write_rtc
01FC   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
01FE   0AF3               M         incf        0x73                        ;Set register address to 4
01FF   2???               M         call        write_rtc
0200   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0202   0AF3               M         incf        0x73                        ;Set register address to 5
0203   2???               M         call        write_rtc
0204   1283 1303          M         banksel     0x73
Message[305]: Using default destination of 1 (file).
0206   0AF3               M         incf        0x73                        ;Set register address to 6
0207   2???               M         call        write_rtc
                      00665 
                      00666         rtc_set     0x00,       B'10000000'
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0208   1283 1303          M         banksel     0x73
020A   3000               M         movlw       0x00
020B   00F3               M         movwf       0x73
020C   1283 1303          M         banksel     0x74
020E   3080               M         movlw       B'10000000'
020F   00F4               M         movwf       0x74        
0210   2???               M         call        write_rtc
                      00667 
                      00668         ;set time 
                      00669         rtc_set     0x06,       B'00010110'             ; Year
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0211   1283 1303          M         banksel     0x73
0213   3006               M         movlw       0x06
0214   00F3               M         movwf       0x73
0215   1283 1303          M         banksel     0x74
0217   3016               M         movlw       B'00010110'
0218   00F4               M         movwf       0x74        
0219   2???               M         call        write_rtc
                      00670         rtc_set     0x05,       B'00000100'             ; Month
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
021A   1283 1303          M         banksel     0x73
021C   3005               M         movlw       0x05
021D   00F3               M         movwf       0x73
021E   1283 1303          M         banksel     0x74
0220   3004               M         movlw       B'00000100'
0221   00F4               M         movwf       0x74        
0222   2???               M         call        write_rtc
                      00671         rtc_set     0x04,       B'00000110'             ; Date
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M ;                       address specified by addliteral in the RTC
0223   1283 1303          M         banksel     0x73
0225   3004               M         movlw       0x04
0226   00F3               M         movwf       0x73
0227   1283 1303          M         banksel     0x74
0229   3006               M         movlw       B'00000110'
022A   00F4               M         movwf       0x74        
022B   2???               M         call        write_rtc
                      00672         rtc_set     0x03,       B'00000010'             ; Day
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
022C   1283 1303          M         banksel     0x73
022E   3003               M         movlw       0x03
022F   00F3               M         movwf       0x73
0230   1283 1303          M         banksel     0x74
0232   3002               M         movlw       B'00000010'
0233   00F4               M         movwf       0x74        
0234   2???               M         call        write_rtc
                      00673         rtc_set     0x02,       B'00000000'             ; Hours
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
0235   1283 1303          M         banksel     0x73
0237   3002               M         movlw       0x02
0238   00F3               M         movwf       0x73
0239   1283 1303          M         banksel     0x74
023B   3000               M         movlw       B'00000000'
023C   00F4               M         movwf       0x74        
023D   2???               M         call        write_rtc
                      00674         rtc_set     0x01,       B'00000000'             ; Minutes
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
023E   1283 1303          M         banksel     0x73
0240   3001               M         movlw       0x01
0241   00F3               M         movwf       0x73
0242   1283 1303          M         banksel     0x74
0244   3000               M         movlw       B'00000000'
0245   00F4               M         movwf       0x74        
0246   2???               M         call        write_rtc
                      00675         rtc_set     0x00,       B'00000000'             ; Seconds
                          M ;input:         addliteral: value of address
                          M ;                       datliteral: value of data
                          M ;output:        none
                          M ;desc:          loads the data in datliteral into the 
                          M ;                       address specified by addliteral in the RTC
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0247   1283 1303          M         banksel     0x73
0249   3000               M         movlw       0x00
024A   00F3               M         movwf       0x73
024B   1283 1303          M         banksel     0x74
024D   3000               M         movlw       B'00000000'
024E   00F4               M         movwf       0x74        
024F   2???               M         call        write_rtc
0250   0008           00676         return
                      00677 
                      00678 ;******************************************************************************;                
                      00679 ;******************************************************************************;
                      00680 ;******************************************************************************;
0251                  00681 DIV16X8 ; DIV_HI and DIV_LO / DIVSOR.  result to Q
                      00682                 ; does not deal with divide by 0 case
0251   01B6           00683         CLRF Q
0252                  00684 DIV_1
0252   0835           00685         MOVF DIVISOR, W
0253   02B4           00686         SUBWF DIV_LO, F
0254   1C03           00687         BTFSS STATUS, C ; if positive skip
0255   2???           00688         GOTO BORROW
0256   2???           00689         GOTO DIV_2
0257                  00690 BORROW
0257   3001           00691         MOVLW 0x01
0258   02B3           00692         SUBWF DIV_HI, F ; DIV_HI = DIV_HI - 1
0259   1C03           00693         BTFSS STATUS, C ; if no borrow occurred
025A   2???           00694         GOTO DIV_DONE   
025B                  00695 DIV_2
025B   0AB6           00696         INCF Q, F
025C   2???           00697         GOTO DIV_1
025D                  00698 DIV_DONE
025D   0008           00699         RETURN
                      00700 
025E                  00701 DEL_1S
025E   3015           00702         movlw   0x15
025F   00B7           00703         movwf   d1
0260   3074           00704         movlw   0x74
0261   00B8           00705         movwf   d2
0262   3006           00706         movlw   0x06
0263   00B9           00707         movwf   d3
0264                  00708 DEL_1S_0
0264   0BB7           00709         decfsz  d1, f
0265   2???           00710         goto    $+2
0266   0BB8           00711         decfsz  d2, f
0267   2???           00712         goto    $+2
0268   0BB9           00713         decfsz  d3, f
0269   2???           00714         goto    DEL_1S_0
026A   2???           00715         goto    $+1
026B   2???           00716         goto    $+1
026C   0008           00717         return
                      00718         
026D                  00719 DEL_10MS
026D   3086           00720         movlw   0x86
026E   00B7           00721         movwf   d1
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

026F   3014           00722         movlw   0x14
0270   00B8           00723         movwf   d2
0271                  00724 DEL_10MS_0
0271   0BB7           00725         decfsz  d1, f
0272   2???           00726         goto    $+2
0273   0BB8           00727         decfsz  d2, f
0274   2???           00728         goto    DEL_10MS_0
0275   2???           00729         goto    $+1
0276   0000           00730         nop
0277   0008           00731         return
                      00732         
0278                  00733 DEL_20US
0278   300F           00734         movlw   0x0F
0279   00B7           00735         movwf   d1
027A                  00736 DEL_20US_0
027A   0BB7           00737         decfsz  d1, f
027B   2???           00738         goto    DEL_20US_0
027C   0008           00739         return
                      00740 
027D                  00741 FINISH  
027D   2???           00742         GOTO    FINISH
                      00743         
3F72                  00744         END
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 25


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BORROW                            00000257
BRGH                              00000002
BUZZER                            PORTC, 7
C                                 00000000
CALIBRATE                         0000003F
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CKE                               00000006
CKP                               00000004
CLR_LCD                           00000000
CREN                              00000004
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

CSRC                              00000007
CWRT_MEM_LCD                      
D                                 00000005
DATA_ADDRESS                      00000005
DATA_LOOP                         000000E2
DC                                00000001
DEL_10MS                          0000026D
DEL_10MS_0                        00000271
DEL_1S                            0000025E
DEL_1S_0                          00000264
DEL_20US                          00000278
DEL_20US_0                        0000027A
DIV16X8                           00000251
DIVISOR                           00000035
DIV_1                             00000252
DIV_2                             0000025B
DIV_DONE                          0000025D
DIV_HI                            00000033
DIV_LO                            00000034
D_A                               00000005
D_NOT_A                           00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FINAL_BACKUP                      00000069
FINISH                            0000027D
FSR                               00000004
GCEN                              00000007
GET_START_TIME                    00000154
GET_STOP_TIME                     0000016F
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INIT                              00000005
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 27


SYMBOL TABLE
  LABEL                             VALUE 

INTF                              00000001
INT_HANDLER                       00000077
IRP                               00000007
InitLCD                           00000000
LCD_INS                           
L_MOTOR_SPD                       B'11111001'
MOTOR_CTRL_L                      000000C2
MOTOR_CTRL_R                      000000B6
MOTOR_DIR_CTRL                    PORTC, 5
MUX_CTRL_0                        PORTE, 0
MUX_CTRL_1                        PORTE, 1
MUX_CTRL_2                        PORTA, 2
MUX_CTRL_3                        PORTA, 5
MUX_IN                            PORTA, 0
MX_LOOP                           00000084
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 28


SYMBOL TABLE
  LABEL                             VALUE 

PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
Q                                 00000036
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_IRS                          00000082
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 29


SYMBOL TABLE
  LABEL                             VALUE 

READ_WRITE                        00000002
RETURN_HOME                       0000005A
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_MOTOR_SPD                       B'11111001'
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SCAN                              00000057
SEN                               00000000
SERVO_CTRL                        PORTC, 0
SET_RTC_TIME                      000001E9
SHOW_RTC                          0000018A
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
START_MSG                         00000100
START_STDBY                       00000032
STATUS                            00000003
STOP_DATA                         000000CE
STOP_L                            000000C8
STOP_R                            000000BC
STOP_STDBY                        0000006B
STOP_STDBY_MSG                    0000011D
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 30


SYMBOL TABLE
  LABEL                             VALUE 

T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 31


SYMBOL TABLE
  LABEL                             VALUE 

TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
USHOLDL                           000000A7
USONIC_LAT                        000000A1
USONIC_LAT_ECHO                   000000A4
US_LAT_ECHO                       PORTD, 1
US_LAT_TRIG                       PORTD, 0
US_SUP_ECHO                       PORTB, 4
US_SUP_TRIG                       PORTB, 3
W                                 00000000
WCOL                              00000007
WHL_ENC                           0000009A
WR                                00000001
WREN                              00000002
WRERR                             00000003
WRT_DATA                          0000013A
WRT_LCD                           
WRT_MEM_LCD                       
WR_DATA                           00000000
WR_INS                            00000000
Z                                 00000002
_.org_1_0038                      00000038
_.org_1_0072                      00000072
_.org_1_0091                      00000091
_.org_1_00A5                      000000A5
_.org_1_0265                      00000265
_.org_1_0267                      00000267
_.org_1_026A                      0000026A
_.org_1_026B                      0000026B
_.org_1_0272                      00000272
_.org_1_0275                      00000275
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 32


SYMBOL TABLE
  LABEL                             VALUE 

_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_WRT_OFF                          00003DFF
_WRT_ON                           00003FFF
_XT_OSC                           00003FFD
__16F877                          00000001
crit_dist                         0X0A
crit_dist_l                       0x05
crit_dist_r                       0x0A
d1                                00000037
d2                                00000038
d3                                00000039
i2c_common_setup                  00000000
long_del                          00000030
measured_distance_lat             00000047
measured_distance_sup             00000048
multiplex_count                   00000043
num_spots                         0000004B
read_rtc                          00000000
rob_lat_distance                  00000044
rob_long_distance                 00000046
rob_long_distance_count           00000045
rob_return                        00000049
rtc_convert                       00000000
rtc_read                          
rtc_resetAll                      
rtc_set                           
spot_base_loc                     0000004C
MPASM 5.65                          MAIN.ASM   4-4-2016  15:55:29         PAGE 33


SYMBOL TABLE
  LABEL                             VALUE 

spot_count                        0000004A
spot_detected                     00000042
start_min                         0000003A
start_min10                       0000003B
start_sec                         0000003C
start_sec10                       0000003D
stop_min                          0000003E
stop_min10                        0000003F
stop_sec                          00000040
stop_sec10                        00000041
temp_status                       00000032
temp_w                            00000031
write_rtc                         00000000

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    15 reported,     0 suppressed

